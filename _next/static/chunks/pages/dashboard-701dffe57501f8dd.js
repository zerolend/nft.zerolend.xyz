(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8026],{52516:function(e){function n(e){return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}))}n.keys=function(){return[]},n.resolve=n,n.id=52516,e.exports=n},30270:function(e){function n(e){return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}))}n.keys=function(){return[]},n.resolve=n,n.id=30270,e.exports=n},75974:function(e){function n(e){return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}))}n.keys=function(){return[]},n.resolve=n,n.id=75974,e.exports=n},26117:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return r(3185)}])},98243:function(e,n,r){"use strict";r.d(n,{c:function(){return c}});var t=r(14924),o=r(85893),s=(r(67294),r(15287),r(70754),{active:"_1qgw29za _1qgw29z4",passive:"_1qgw29zb _1qgw29z4"}),a=r(94184),i=r.n(a),c=function(e){var n=e.items,r=e.activeItemSlug,a=e.isFullWidth,c=e.onClick;return(0,o.jsx)("div",{className:i()("_1qgw29z0",(0,t.Z)({},"_1qgw29z1",a)),children:(0,o.jsx)("div",{className:i()("_1qgw29z2",(0,t.Z)({},"_1qgw29z3",!a)),children:n.map((function(e,t){var a=e.slug==r?"active":"passive",i=n.length-1!==t&&"active"!==a;return(0,o.jsxs)("div",{className:s[a],onClick:function(){return c(e.slug)},children:[e.nameMobile?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"_1qgw29z6",children:e.name}),(0,o.jsx)("div",{className:"_1qgw29z8",children:e.nameMobile})]}):(0,o.jsx)(o.Fragment,{children:e.name}),i&&(0,o.jsx)("div",{className:"_1qgw29z5"})]},e.slug)}))})})}},3185:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return rn}});var t,o,s=r(828),a=r(85893),i=r(43706),c=r(41828),l=r(67294),u=(r(15287),r(60115),r(99961),r(23960),function(e){var n=e.notification;return(0,a.jsxs)("div",{className:"_1jtz7o20",children:[(0,a.jsx)("div",{className:"_1jtz7o22",children:n.title}),(0,a.jsxs)("div",{className:"_1jtz7o23",children:[(0,a.jsx)("p",{className:"_1jtz7o24",children:n.description}),(0,a.jsx)("span",{className:"_1jtz7o25",children:(0,a.jsx)("a",{href:"https://discord.gg/honeydefi",target:"_blank",rel:"noreferrer",children:"more"})})]}),(0,a.jsx)("div",{className:"_1jtz7o21"})]})}),d=function(e){var n=e.notifications;return(0,a.jsxs)("div",{className:"s206vz0",children:[(0,a.jsx)("div",{className:"s206vz1",children:(0,a.jsx)("div",{className:"s206vz2",children:"Notification"})}),n.map((function(e,n){return(0,a.jsx)("div",{className:"s206vz4",children:(0,a.jsx)(u,{notification:e})},n)}))]})},h=r(23962),f=r(36305),m=(r(59145),r(72736),"_1bg2lro7"),v="_1bg2lrob",p="_1bg2lro4 _1c1tagj3",g=r(94184),x=r.n(g),y=r(14924),j=(r(96189),"_16ayxha7"),b=r(26295),w=r(25675),C=r.n(w),N=r(64678),_=r(84709),Z=r(27043),A=(r(81404),"_1h4cjnf4"),k="_1h4cjnf3",S="_1h4cjnf7",R="_1h4cjnf8",U="_1h4cjnf9",E="_1h4cjnf1",D=r(22918),T=r(27770),M=function(e){var n=e.debt,r=e.collateralValue,t=e.liquidationThreshold,o=e.maxLoanToValue,s=n/r,i=o-s,c=t-o,l=1-i-c-s,u=s>t,d=r*o-n;return(0,a.jsx)("div",{className:"_1h4cjnf0",children:u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:E,style:{width:"".concat(100*s,"%")},children:[(0,a.jsx)("div",{className:S,style:{color:T.gR.colors.red},children:"".concat(_.uf.formatPercentRounded(100*s,0))}),(0,a.jsx)(D.Z,{className:x()(k,A),value:100,handleStyle:{display:"none"},trackStyle:{backgroundColor:T.gR.colors.red}})]}),(0,a.jsxs)("div",{className:E,style:{width:"".concat(100*l,"%")},children:[(0,a.jsx)("div",{className:S,children:"".concat(_.uf.formatPercentRounded(100*t,0))}),(0,a.jsx)(D.Z,{className:x()(k,A),value:100,handleStyle:{display:"none"},disabled:!0})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:E,style:{width:"".concat(100*s,"%")},children:[(0,a.jsx)("div",{className:S,style:{color:T.gR.colors.green},children:"".concat(_.uf.formatPercentRounded(100*s,0))}),(0,a.jsx)(D.Z,{className:x()(k,A),value:100,handleStyle:{display:"none"},trackStyle:{backgroundColor:T.gR.colors.green}})]}),i>0&&(0,a.jsxs)("div",{className:E,style:{width:"".concat(100*i,"%")},children:[(0,a.jsx)("div",{className:U,children:_.uf.formatUsd(d)}),(0,a.jsx)(D.Z,{className:x()(k,A),value:100,handleStyle:{display:"none"},trackStyle:{backgroundColor:T.gR.colors.black}})]}),(0,a.jsxs)("div",{className:"_1h4cjnf2",style:{width:"".concat(100*c,"%")},children:[(0,a.jsx)("div",{className:R,children:" "}),(0,a.jsx)(D.Z,{className:x()(k,A),value:100,handleStyle:{display:"none"},trackStyle:{backgroundColor:T.gR.colors.grayMiddle}})]}),(0,a.jsxs)("div",{className:E,style:{width:"".concat(100*l,"%")},children:[(0,a.jsx)("div",{className:S,children:"".concat(_.uf.formatPercentRounded(100*t,0))}),(0,a.jsx)(D.Z,{className:x()(k,A),value:100,handleStyle:{display:"none"},disabled:!0})]})]})})},F=r(71530),L=r(54677),I=r(32292),q=r(94780),H=r(2533),P=r(95678),z=r(69931),B=r(17248),O=_.uf.formatShortName,$=_.uf.formatPercent,Q=function(e){var n,r,t=e.position,o=e.onSelect,i=(0,F.Z)((function(e){return e.NFTId})),c=(0,l.useContext)(B.S).currentUser,u=(0,I.U)(t.HERC20ContractAddr),d=(u.nftContractAddress,u.htokenHelperContractAddress),h=u.hivemindContractAddress,f=(u.erc20Name,u.erc20Icon),m=u.formatDecimals,v=u.unit,p=(0,s.Z)((0,q.xb)(h,t.HERC20ContractAddr,v),2),g=p[0],w=(p[1],(0,s.Z)((0,L.qe)(d,t.HERC20ContractAddr),2)),A=w[0],k=(w[1],(0,s.Z)((0,H.Y)(t.HERC20ContractAddr,t.tokenId,v),2)),S=k[0],R=(k[1],(0,s.Z)((0,L.sd)(d,t.HERC20ContractAddr,h),2)),U=R[0],E=(R[1],U/A.price),D=P.s.find((function(e){return e.HERC20ContractAddress===t.HERC20ContractAddr})),T=(0,s.Z)((0,z.AD)(c,D?[D]:[],d),2),Q=T[0];T[1];return(0,a.jsxs)("div",{className:x()("_16ayxha0",(0,y.Z)({},"_16ayxha1",i===t.tokenId)),onClick:function(){return o(t.HERC20ContractAddr,t.tokenId,t.couponId)},children:[(0,a.jsx)("div",{className:"_16ayxha2",children:(0,a.jsx)(b.Z,{children:(0,a.jsx)(C(),{width:46,height:46,src:t.image,alt:"collection Icon"})})}),(0,a.jsxs)("div",{className:"_16ayxha3",children:[(0,a.jsx)(Z.Z,{label:t.name,children:(0,_.nq)(t.name)}),(0,a.jsx)("div",{className:"_16ayxha4"})]}),(0,a.jsxs)("div",{className:"_16ayxha5",children:[(0,a.jsx)(N.U,{title:"Floor price",value:(0,a.jsxs)("div",{className:j,children:[O(t.value,m),(0,a.jsx)(C(),{src:f,alt:t.erc20Name,layout:"fixed",width:"20px",height:"20px"})]})}),(0,a.jsx)(N.U,{title:"Debt",value:(0,a.jsxs)("div",{className:j,children:[O(parseFloat(S),m),(0,a.jsx)(C(),{src:f,alt:t.erc20Name,layout:"fixed",width:"20px",height:"20px"})]})}),(0,a.jsx)(N.U,{title:"IR",value:$(null===(n=Q[0])||void 0===n?void 0:n.borrowRate,2)})]}),(0,a.jsx)("div",{className:"_16ayxha6"}),(0,a.jsx)(M,{debt:parseFloat(S),collateralValue:null!==(r=t.value)&&void 0!==r?r:0,liquidationThreshold:g,maxLoanToValue:E})]})},W=r(98243),V=r(69160),Y=(r(58653),"_1ug8ffn7"),J=r(65113),X=_.uf.formatShortName,G=_.uf.formatPercent,K=function(e){var n=e.position,r=e.onSelect,t=(0,J.Z)((function(e){return e.HERC20ContractAddr})),o=(0,l.useContext)(B.S),i=o.currentUser,c=(o.setCurrentUser,(0,I.U)(n.id)),u=c.erc20Name,d=c.erc20Icon,h=c.formatDecimals,f=c.htokenHelperContractAddress,m=c.unit,v=(0,s.Z)((0,L.OC)(f,n.id,i,m),2),p=v[0],g=(v[1],parseFloat(p));return(0,a.jsxs)("div",{className:x()("_1ug8ffn0",(0,y.Z)({},"_1ug8ffn1",t===n.id)),onClick:function(){return r(n.id)},children:[(0,a.jsx)("div",{className:"_1ug8ffn2",children:(0,a.jsx)(b.Z,{children:(0,a.jsx)(C(),{width:46,height:46,src:n.image,alt:"collection Icon"})})}),(0,a.jsxs)("div",{className:"_1ug8ffn3",children:[(0,a.jsx)(Z.Z,{label:n.name,children:(0,_.nq)(n.name)}),(0,a.jsx)("div",{className:"_1ug8ffn4"})]}),(0,a.jsxs)("div",{className:"_1ug8ffn5",children:[(0,a.jsx)(N.U,{title:"IR",value:(0,a.jsx)("span",{className:"_1ug8ffn6",children:G(n.rate,2)})}),(0,a.jsx)(N.U,{title:"Your Deposit",value:X(g<0?0:g,h)}),(0,a.jsx)(N.U,{title:"Supplied",value:(0,a.jsxs)("div",{className:Y,children:[X(n.supplied,h),(0,a.jsx)(C(),{src:d,alt:u,layout:"fixed",width:"16px",height:"16px"})]})}),(0,a.jsx)(N.U,{title:"Available",value:(0,a.jsxs)("div",{className:Y,children:[X(n.available,h),(0,a.jsx)(C(),{src:d,alt:u,layout:"fixed",width:"16px",height:"16px"})]})})]})]})},ee=r(28424),ne=r(1863),re=function(e){var n=e.borrowPositions,r=e.lendPositions,t=e.positionType,o=e.onChangePositionType,s=(0,l.useState)("riskLvl"),i=s[0],c=s[1],u=(0,l.useState)("rate"),d=u[0],h=u[1],g=(0,l.useState)(),y=g[0],j=g[1],b=(0,l.useState)([]),w=b[0],C=b[1],N=(0,l.useState)([]),_=N[0],Z=N[1],A=(0,l.useMemo)((function(){return"borrow"===t?n:r}),[t,n,r]),k=function(e){return e?(0,f.Z)(A).filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase())})):(0,f.Z)(A)};(0,l.useEffect)((function(){C(n),Z(r)}),[n,r]);var S=(0,F.Z)((function(e){return e})),R=S.setWorkflow,U=S.setNFTId,E=S.setHERC20ContractAddr,D=S.setCouponId,T=(0,J.Z)((function(e){return e})),M=T.setWorkflow,L=T.setHERC20ContractAddr,I=(0,ne.Z)((function(e){return e.setIsSidebarVisibleInMobile})),q=function(e,n,r){E(e),U(n),D(r),R(ee.yp.loanOrBorrow),I(!0),document.body.classList.add("disable-scroll")},H=function(e){L(e),M(ee.ky.lendOrWithdraw),I(!0),document.body.classList.add("disable-scroll")},P=w.filter((function(e){return"0"!==e.debt})),z=w.filter((function(e){return"0"===e.debt}));return(0,a.jsxs)("div",{className:"_1bg2lro0",children:[(0,a.jsx)("div",{className:x()(p,"_1bg2lro2"),children:"My assets"}),(0,a.jsxs)("div",{className:"_1bg2lro1",children:[(0,a.jsxs)("div",{className:"_1bg2lro5",children:[(0,a.jsx)("div",{className:x()(p,"_1bg2lro3"),children:"My assets"}),(0,a.jsx)(W.c,{items:[{name:"Borrow",slug:"borrow"},{name:"Lend",slug:"lend"}],activeItemSlug:t,onClick:function(e){return o(e)}})]}),(0,a.jsx)("div",{className:"_1bg2lro8",children:(0,a.jsx)(V.Z,{value:y,onChange:function(e){var n,r=e.target.value;j(n=r),"borrow"==t?C(k(n)):"lend"===t&&Z(k(n))},placeholder:"Search by name"})}),"borrow"===t?(0,a.jsx)(W.c,{items:[{name:"High risk",slug:"riskLvl"},{name:"High Debt",slug:"debt"}],isFullWidth:!0,activeItemSlug:i,onClick:function(e){c(e),function(e){if(j(void 0),"riskLvl"===e){var r=n.sort((function(e,n){return Number(n.debt)/n.value-Number(e.debt)/e.value}));console.log({sortedResult:r},"@www"),C(r)}else{var t=n.sort((function(n,r){return Number(r[e])-Number(n[e])}));console.log({sortedResult:t},"@www"),C(t)}}(e)}}):(0,a.jsx)(W.c,{items:[{name:"High IR",slug:"rate"},{name:"High deposit",slug:"deposit"}],isFullWidth:!0,activeItemSlug:d,onClick:function(e){h(e),function(e){j(void 0);var n=r.sort((function(n,r){return Number(r[e])-Number(n[e])}));console.log({sortedResult:n},"@www"),Z(n)}(e)}})]}),(0,a.jsxs)("div",{className:"_1bg2lro6",children:[(0,a.jsx)("div",{className:m,children:"borrow"===t?P.map((function(e){return(0,a.jsx)(Q,{position:e,onSelect:q},e.name)})):_.map((function(e){return(0,a.jsx)(K,{position:e,onSelect:H},e.id)}))}),Boolean(z.length)&&"borrow"===t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"_1bg2lro9",children:[(0,a.jsx)("div",{className:v}),(0,a.jsx)("span",{className:"_1bg2lroa",children:"Your not borrowed NFTs"}),(0,a.jsx)("div",{className:v})]}),(0,a.jsx)("div",{className:m,children:z.map((function(e){return(0,a.jsx)(Q,{position:e,onSelect:q},e.name)}))})]})]})]})},te=r(99562),oe=r(26042),se=r(69396),ae=(r(73841),r(33140)),ie=r(56238),ce=r(73091),le=r(8935),ue=(r(20058),{one_month:"one_month",three_month:"three_month",six_month:"six_month",all:"all"}),de=r(72167),he=function(e,n){var r=new Date(e);switch(n){case"one_month":case"three_month":case"six_month":return(0,de.Z)(r,"dd MMM").toLowerCase();default:return(0,de.Z)(r,"MM/dd/yyyy").toLowerCase()}},fe=_.uf.formatToThousands,me=(_.uf.formatUsd,t={},(0,y.Z)(t,ue.one_month,"month"),(0,y.Z)(t,ue.three_month,"3 month"),(0,y.Z)(t,ue.six_month,"6 month"),(0,y.Z)(t,ue.all,"all time"),o={},(0,y.Z)(o,ue.one_month,"month"),(0,y.Z)(o,ue.three_month,"3 m"),(0,y.Z)(o,ue.six_month,"6 m"),(0,y.Z)(o,ue.all,"all"),Object.values(ue),(0,le.withSize)()((function(e){var n=e.data,r=void 0===n?[]:n,t=e.size,o=(e.value,(0,l.useState)(ue.one_month)),s=o[0],i=(o[1],(0,l.useMemo)((function(){for(var e=function(e){var n=new Date;switch(e){case ue.one_month:n.setMonth(n.getMonth()-1);break;case ue.three_month:n.setMonth(n.getMonth()-3);break;case ue.six_month:n.setMonth(n.getMonth()-6);break;default:n.setFullYear(n.getFullYear()-1)}return n}(s),n=(null===r||void 0===r?void 0:r.filter((function(n){return new Date(n.epoch)>e}))).map((function(e){return{x:e.epoch,y:e.value}})),t=[],o=Math.round(n.length/24),a=0;a<n.length-1;){var i=n.slice(a,a+o);t.push({y:i.reduce((function(e,n){return e+n.y}),0)/i.length,x:Math.round((i[0].x+i[i.length-1].x)/2),dateFrom:i[0].x,dateTo:i[i.length-1].x,isLast:a+o>n.length-1}),a+=o}return t}),[s,r])),c=(0,l.useMemo)((function(){var e;return(e=Math).max.apply(e,(0,f.Z)(i.map((function(e){return e.y}))))}),[i]),u=(0,l.useMemo)((function(){var e;return(e=Math).max.apply(e,(0,f.Z)(i.map((function(e){return e.x}))))}),[i]),d=(0,l.useMemo)((function(){var e;return(e=Math).min.apply(e,(0,f.Z)(i.map((function(e){return e.x}))))}),[i]);return(0,a.jsxs)("div",{className:"bq11m0",children:[(0,a.jsx)("div",{className:"bq11m1",children:(0,a.jsxs)("div",{className:"bq11m2",children:[(0,a.jsxs)("div",{className:"bq11m3",children:[(0,a.jsx)("span",{children:"My locked balance"}),(0,a.jsx)("div",{className:"bq11m5"})]}),(0,a.jsx)(N.U,{value:"comming soon...",isDisabled:!0})]})}),(0,a.jsxs)(ae.k,{padding:{top:27,right:60,bottom:52,left:56},width:t.width||void 0,height:t.height||188,containerComponent:(0,a.jsx)(ie.Z,{style:{position:"relative"}}),children:[(0,a.jsx)(ce.E,{tickFormat:function(e){return he(e,s)},tickValues:function(){var e=[d,u];if(s!==ue.all)for(var n=(u-d)/5,r=d;r<u;){var t=r+n;e.push(t),r=t}return e}(),style:{axis:{stroke:"transparent"},tickLabels:(0,se.Z)((0,oe.Z)({},T.cp.caption),{fill:T.gR.colors.grayTransparent,padding:26})}}),(0,a.jsx)(ce.E,{tickFormat:function(e){return fe(e)},tickValues:function(){for(var e=[0,c],n=c/5,r=0;r<c;){var t=r+n;e.push(t),r=t}return e}(),dependentAxis:!0,style:{axis:{stroke:"transparent"},tickLabels:(0,se.Z)((0,oe.Z)({},T.cp.caption),{fill:T.gR.colors.grayTransparent,padding:26})}})]}),(0,a.jsx)("svg",{style:{height:0},children:(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:"gradient",x1:"352",y1:"0",x2:"352",y2:"129",gradientUnits:"userSpaceOnUse",children:[(0,a.jsx)("stop",{stopColor:"#E7B400"}),(0,a.jsx)("stop",{offset:"1",stopColor:"#E7B400",stopOpacity:"0"})]})})})]})}))),ve=r(16086),pe=r(10631),ge=r(75819),xe=r(47568),ye=r(70655),je=function(e,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,t=e,o=[];t<=n;)o.push({epoch:t,value:Math.random()*r}),t+=36e5;return o},be=r(7297),we=r(75332),Ce=r(55102),Ne=r(59102),_e=r(12737),Ze=r(87823),Ae=r(85590),ke=r(35174),Se=r(26470),Re=r.n(Se);function Ue(){var e=(0,be.Z)(["\n    fragment CouponData on Coupon {\n  collateralID\n  couponID\n  underlyingTokenAddr\n  collateralTokenAddr\n  hTokenAddr\n  owner\n  amount\n}\n    "]);return Ue=function(){return e},e}function Ee(){var e=(0,be.Z)(["\n    fragment UserUnderlyingData on UserUnderlying {\n  owner\n  amount\n  hTokenAddr\n}\n    "]);return Ee=function(){return e},e}function De(){var e=(0,be.Z)(["\n    query ActiveCouponQuery($first: Int = 100) {\n  coupons(\n    first: $first\n    orderBy: underlyingTokenAddr\n    orderDirection: desc\n    where: {active: true}\n  ) {\n    ...CouponData\n  }\n}\n    ",""]);return De=function(){return e},e}function Te(){var e=(0,be.Z)(["\n    query ActiveCouponByCollectionQuery($HERC20ContractAddress: String!, $first: Int = 100) {\n  coupons(\n    first: $first\n    orderBy: underlyingTokenAddr\n    orderDirection: desc\n    where: {active: true, hTokenAddr: $HERC20ContractAddress}\n  ) {\n    ...CouponData\n  }\n}\n    ",""]);return Te=function(){return e},e}function Me(){var e=(0,be.Z)(["\n    query ActiveCouponByUserQuery($userAddress: String!, $first: Int = 100) {\n  coupons(\n    first: $first\n    orderBy: underlyingTokenAddr\n    orderDirection: desc\n    where: {active: true, owner: $userAddress}\n  ) {\n    ...CouponData\n  }\n}\n    ",""]);return Me=function(){return e},e}function Fe(){var e=(0,be.Z)(["\n    query UnderlyingByUserQuery($userAddress: String!, $first: Int = 100) {\n  userUnderlyings(\n    first: $first\n    orderBy: hTokenAddr\n    orderDirection: desc\n    where: {owner: $userAddress}\n  ) {\n    ...UserUnderlyingData\n  }\n}\n    ",""]);return Fe=function(){return e},e}var Le,Ie=Re().join(Re().dirname((0,we.XN)("file:///home/runner/work/frontend-nft/frontend-nft/.graphclient/index.ts")),".."),qe=function(e){var n=(Re().isAbsolute(e)?Re().relative(Ie,e):e).split("\\").join("/").replace(Ie+"/","");return".graphclient/sources/honey-dashboard-arbitrum/introspectionSchema"===n?r.e(4096).then(r.bind(r,54096)):Promise.reject(new Error("Cannot find module '".concat(n,"'.")))},He=new ke.bn(".graphclient",new ke.wH({cwd:Ie,importFn:qe,fileType:"ts"}),{readonly:!0,validate:!1});function Pe(){return(Pe=(0,xe.Z)((function(){var e,n,r,t,o,s,a,i,c,l,u,d,h,f,m,v,p,g,x;return(0,ye.__generator)(this,(function(j){return e=new we.pS,n=He.child("sources"),r=new we.Mn("GraphClient"),o={},s={},a={},t=new Ce.Z((0,se.Z)((0,oe.Z)(o,s),(a.importFn=qe,a.store=He.child("cache"),a.pubsub=e,a.logger=r,a))),i=[],c=[],l=[],u=[],d=[],f={},h=new _e.Z((f.name="honey-dashboard-arbitrum",f.config={endpoint:"https://api.thegraph.com/subgraphs/name/tomjpandolfi/honey-dashboard-arbitrum"},f.baseDir=Ie,f.cache=t,f.pubsub=e,f.store=n.child("honey-dashboard-arbitrum"),f.logger=r.child("honey-dashboard-arbitrum"),f.importFn=qe,f)),i[0]={name:"honey-dashboard-arbitrum",handler:h,transforms:u},m=[],p={},v=new Ze.Z((p.cache=t,p.pubsub=e,p.logger=r.child("bareMerger"),p.store=He.child("bareMerger"),p)),x={},[2,((g={}).sources=i,g.transforms=c,g.additionalTypeDefs=d,g.additionalResolvers=m,g.cache=t,g.pubsub=e,g.merger=v,g.logger=r,g.additionalEnvelopPlugins=l,(0,y.Z)(g,"documents",(x.get=function(){return[{document:$e,get rawSDL(){return(0,we.gJ)($e)},location:"ActiveCouponQueryDocument.graphql"},{document:Qe,get rawSDL(){return(0,we.gJ)(Qe)},location:"ActiveCouponByCollectionQueryDocument.graphql"},{document:We,get rawSDL(){return(0,we.gJ)(We)},location:"ActiveCouponByUserQueryDocument.graphql"},{document:Ve,get rawSDL(){return(0,we.gJ)(Ve)},location:"UnderlyingByUserQueryDocument.graphql"}]},x)),g.fetchFn=Ne.he,g)]}))}))).apply(this,arguments)}function ze(){return null==Le&&(Le=function(){return Pe.apply(this,arguments)}().then((function(e){return(0,Ae.Xh)(e)})).then((function(e){var n=e.pubsub.subscribe("destroy",(function(){Le=void 0,e.pubsub.unsubscribe(n)}));return e}))),Le}var Be=(0,we.Ps)(Ue()),Oe=(0,we.Ps)(Ee()),$e=(0,we.Ps)(De(),Be),Qe=(0,we.Ps)(Te(),Be),We=(0,we.Ps)(Me(),Be),Ve=(0,we.Ps)(Fe(),Oe);var Ye=r(88767),Je=r(28432),Xe=r(56050),Ge=r(27006),Ke=r(18269),en=function(e){var n,r=ze().then((function(n){return(0,n.sdkRequesterFactory)(e)}));return n=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return r.then((function(e){return e.apply(void 0,(0,f.Z)(n))}))},{ActiveCouponQuery:function(e,r){return n($e,e,r)},ActiveCouponByCollectionQuery:function(e,r){return n(Qe,e,r)},ActiveCouponByUserQuery:function(e,r){return n(We,e,r)},UnderlyingByUserQuery:function(e,r){return n(Ve,e,r)}}}();var nn=[{title:"Polygon Alpha Launch",description:"Alpha testing now live for Polygon!"},{title:"New Arbitrum Markets",description:"Lost Donkeys, Oreochads, Blueberry Club, Primapes"},{title:"Arbitrum Alpha Launch",description:"Alpha testing now live for Arbitrum!"}];var rn=function(){var e=(0,l.useContext)(B.S),n=e.currentUser,r=(e.setCurrentUser,(0,s.Z)(function(){for(var e=[],n=0;n<30;n++)e.push({name:"Any name loooong #".concat(n),value:1e4*Math.random(),difference:Math.random(),image:"/nfts/honeyEyes.png"});return[e,!1]}(),2)),t=(r[0],r[1],(0,s.Z)(function(e){var n,r=(null===e||void 0===e?void 0:e.address)||"",t={HERC20ContractAddress:"",price:0},o=(0,Ye.useQuery)(Je.a.listUserCollateral(r),(0,xe.Z)((function(){var e;return(0,ye.__generator)(this,(function(n){switch(n.label){case 0:return e={},[4,en.ActiveCouponByUserQuery((e.userAddress=r.toLowerCase(),e))];case 1:return[2,n.sent()]}}))})),{onSuccess:function(e){return e},onError:function(){return null},retry:!1,staleTime:Xe.$r}),s=o.data,a=o.isLoading,i=o.isFetching,c=(null===s||void 0===s||null===(n=s.coupons)||void 0===n?void 0:n.map((function(e){return{name:"".concat((0,Ge.lz)(e.hTokenAddr),"#").concat(e.collateralID),image:(0,Ge.WB)(e.hTokenAddr),couponId:e.couponID,tokenId:e.collateralID,HERC20ContractAddr:e.hTokenAddr,erc20Name:(0,Ge.LL)(e.hTokenAddr),debt:(0,Ke.fromWei)(e.amount,(0,Ge.$g)(e.hTokenAddr)),value:0}})))||[],l=(0,f.Z)(new Set(c.map((function(e){return e.HERC20ContractAddr})))),u=(0,Ye.useQueries)(l.map((function(e){var n=(0,I.U)(e).htokenHelperContractAddress;return{queryKey:Je.a.nftPrice(e),queryFn:(0,xe.Z)((function(){var r;return(0,ye.__generator)(this,(function(o){if(r={},""==e)return[2,t];try{return[2,(0,L.hw)(n,e)]}catch(s){return console.error("Error fetching nft price"),console.error(s),r.HERC20ContractAddress=e,r.price=0,[2,r]}return[2]}))})),staleTime:Xe.$r,retry:!1,enabled:l.length>0}}))),d=u.map((function(e){return e.data||t})).filter((function(e){return""!=e.HERC20ContractAddress})),h=c.map((function(e){var n=d.filter((function(n){return n.HERC20ContractAddress.toLowerCase()==e.HERC20ContractAddr.toLowerCase()}));return e.value=n&&n.length>0?n[0].price:0,e})),m=u.some((function(e){return e.isLoading})),v=u.some((function(e){return e.isFetching}));return[h,a||i||m||v]}(n),2)),o=t[0],u=(t[1],(0,s.Z)(function(e){var n,r=(null===e||void 0===e?void 0:e.address)||"",t={HERC20ContractAddress:"",borrowInterestRate:"0",supplyInterestRate:"0",supplied:"0",available:"0"},o=(0,Ye.useQuery)(Je.a.listUserUnderlying(r),(0,xe.Z)((function(){var e;return(0,ye.__generator)(this,(function(n){switch(n.label){case 0:return e={},[4,en.UnderlyingByUserQuery((e.userAddress=r.toLowerCase(),e))];case 1:return[2,n.sent()]}}))})),{onSuccess:function(e){return e},onError:function(){return null},retry:!1,staleTime:Xe.$r}),s=o.data,a=o.isLoading,i=o.isFetching,c=(null===s||void 0===s||null===(n=s.userUnderlyings)||void 0===n?void 0:n.map((function(e){return{name:"".concat((0,Ge.lz)(e.hTokenAddr),"/").concat((0,Ge.LL)(e.hTokenAddr)),deposit:(0,Ke.fromWei)(e.amount,(0,Ge.$g)(e.hTokenAddr)),supplied:0,rate:0,available:0,image:(0,Ge.WB)(e.hTokenAddr),id:e.hTokenAddr}})))||[],l=(0,f.Z)(new Set(c.map((function(e){return e.id})))),u=(0,Ye.useQueries)(l.map((function(e){var n=(0,I.U)(e),r=n.htokenHelperContractAddress,o=n.unit;return{queryKey:Je.a.lendData(e),queryFn:(0,xe.Z)((function(){var n,s;return(0,ye.__generator)(this,(function(a){switch(a.label){case 0:if(""==r&&""==e)return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(0,L.oc)(r,e,o)];case 2:return[2,a.sent()];case 3:return n=a.sent(),console.error("Error fetching market data with error"),console.error(n),(s={}).HERC20ContractAddress=e,s.borrowInterestRate="0",s.supplyInterestRate="0",s.supplied="0",s.available="0",[2,s];case 4:return[3,6];case 5:return[2,t];case 6:return[2]}}))})),staleTime:Xe.$r,retry:!1}}))),d=u.map((function(e){return e.data||t})).filter((function(e){return""!=e.HERC20ContractAddress})),h=c.map((function(e){var n=d.filter((function(n){return n.HERC20ContractAddress.toLowerCase()==e.id.toLowerCase()}));if(n&&n.length>0){var r=n[0];e.supplied=parseFloat(r.supplied),e.available=parseFloat(r.available),e.rate=parseFloat(r.supplyInterestRate)}return e})),m=u.some((function(e){return e.isLoading})),v=u.some((function(e){return e.isFetching}));return[h,a||i||m||v]}(n),2)),m=u[0],v=(u[1],(0,s.Z)(function(){var e=(new Date).setFullYear((new Date).getFullYear()-1).valueOf(),n=(new Date).valueOf();return[je(e,n,1e4),!1]}(),2)),p=v[0],g=(v[1],(0,s.Z)([4129.1,!1],2)),x=g[0],y=(g[1],(0,s.Z)([nn,!1],2)),j=y[0],b=(y[1],(0,l.useState)([])),w=b[0],C=b[1],N=(0,ne.Z)((function(e){return e.isSidebarVisibleInMobile})),_=(0,l.useState)("borrow"),Z=_[0],A=_[1],k=(0,ve.Z)().width;(0,l.useEffect)((function(){k>=pe.I?C(j.slice(0,3)):C(j.slice(0,1))}),[j,k]);return(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(i.Z,{className:"v4914j0",children:(0,a.jsxs)("div",{className:"v4914j1",children:[(0,a.jsx)("div",{className:"v4914j2",children:(0,a.jsx)(me,{data:p,value:x})}),(0,a.jsx)("div",{className:"v4914j3",children:(0,a.jsx)(d,{notifications:w})})]})}),(0,a.jsx)(i.Z,{sidebar:(0,a.jsx)(h.Z,{isMobileSidebarVisible:N,children:"borrow"===Z?(0,a.jsx)(te.Z,{}):(0,a.jsx)(ge.Z,{})}),children:(0,a.jsx)("div",{className:"v4914j4",children:(0,a.jsx)("div",{className:"v4914j5",children:(0,a.jsx)(re,{borrowPositions:o,lendPositions:m,onChangePositionType:A,positionType:Z})})})})]})}},81404:function(){},70754:function(){},96189:function(){},72736:function(){},58653:function(){},20058:function(){},23960:function(){},99961:function(){},60115:function(){},21103:function(){}},function(e){e.O(0,[5074,9277,2643,1300,2766,5819,9774,2888,179],(function(){return n=26117,e(e.s=n);var n}));var n=e.O();_N_E=n}]);