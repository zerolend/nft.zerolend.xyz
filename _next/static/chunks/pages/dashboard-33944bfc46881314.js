(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8026],{52516:function(e){function n(e){return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}))}n.keys=function(){return[]},n.resolve=n,n.id=52516,e.exports=n},30270:function(e){function n(e){return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}))}n.keys=function(){return[]},n.resolve=n,n.id=30270,e.exports=n},75974:function(e){function n(e){return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}))}n.keys=function(){return[]},n.resolve=n,n.id=75974,e.exports=n},26117:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return r(67843)}])},98243:function(e,n,r){"use strict";r.d(n,{c:function(){return c}});var t=r(14924),o=r(85893),s=(r(67294),r(22497),r(70754),{active:"_1qgw29za _1qgw29z4",passive:"_1qgw29zb _1qgw29z4"}),a=r(94184),i=r.n(a),c=function(e){var n=e.items,r=e.activeItemSlug,a=e.isFullWidth,c=e.onClick;return(0,o.jsx)("div",{className:i()("_1qgw29z0",(0,t.Z)({},"_1qgw29z1",a)),children:(0,o.jsx)("div",{className:i()("_1qgw29z2",(0,t.Z)({},"_1qgw29z3",!a)),children:n.map((function(e,t){var a=e.slug==r?"active":"passive",i=n.length-1!==t&&"active"!==a;return(0,o.jsxs)("div",{className:s[a],onClick:function(){return c(e.slug)},children:[e.nameMobile?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"_1qgw29z6",children:e.name}),(0,o.jsx)("div",{className:"_1qgw29z8",children:e.nameMobile})]}):(0,o.jsx)(o.Fragment,{children:e.name}),i&&(0,o.jsx)("div",{className:"_1qgw29z5"})]},e.slug)}))})})}},67843:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return Me}});var t=r(828),o=r(85893),s=r(43706),a=r(20642),i=r(67294),c=(r(22497),r(60115),r(23962)),u=r(36305),l=(r(59145),r(72736),"_1bg2lro7"),d="_1bg2lrob",f="_1bg2lro4 _1c1tagj3",h=r(94184),m=r.n(h),v=r(14924),g=(r(96189),"_16ayxha7"),p=r(26295),y=r(25675),b=r.n(y),x=r(64678),j=r(84709),C=r(27043),w=(r(81404),"_1h4cjnf4"),N="_1h4cjnf3",A="_1h4cjnf7",_="_1h4cjnf8",k="_1h4cjnf9",Z="_1h4cjnf1",S=r(22918),R=r(27770),U=function(e){var n=e.debt,r=e.collateralValue,t=e.liquidationThreshold,s=e.maxLoanToValue,a=n/r,i=s-a,c=t-s,u=1-i-c-a,l=a>t,d=r*s-n;return(0,o.jsx)("div",{className:"_1h4cjnf0",children:l?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:Z,style:{width:"".concat(100*a,"%")},children:[(0,o.jsx)("div",{className:A,style:{color:R.gR.colors.red},children:"".concat(j.uf.formatPercentRounded(100*a,0))}),(0,o.jsx)(S.Z,{className:m()(N,w),value:100,handleStyle:{display:"none"},trackStyle:{backgroundColor:R.gR.colors.red}})]}),(0,o.jsxs)("div",{className:Z,style:{width:"".concat(100*u,"%")},children:[(0,o.jsx)("div",{className:A,children:"".concat(j.uf.formatPercentRounded(100*t,0))}),(0,o.jsx)(S.Z,{className:m()(N,w),value:100,handleStyle:{display:"none"},disabled:!0})]})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:Z,style:{width:"".concat(100*a,"%")},children:[(0,o.jsx)("div",{className:A,style:{color:R.gR.colors.green},children:"".concat(j.uf.formatPercentRounded(100*a,0))}),(0,o.jsx)(S.Z,{className:m()(N,w),value:100,handleStyle:{display:"none"},trackStyle:{backgroundColor:R.gR.colors.green}})]}),i>0&&(0,o.jsxs)("div",{className:Z,style:{width:"".concat(100*i,"%")},children:[(0,o.jsx)("div",{className:k,children:j.uf.formatUsd(d)}),(0,o.jsx)(S.Z,{className:m()(N,w),value:100,handleStyle:{display:"none"},trackStyle:{backgroundColor:R.gR.colors.black}})]}),(0,o.jsxs)("div",{className:"_1h4cjnf2",style:{width:"".concat(100*c,"%")},children:[(0,o.jsx)("div",{className:_,children:" "}),(0,o.jsx)(S.Z,{className:m()(N,w),value:100,handleStyle:{display:"none"},trackStyle:{backgroundColor:R.gR.colors.grayMiddle}})]}),(0,o.jsxs)("div",{className:Z,style:{width:"".concat(100*u,"%")},children:[(0,o.jsx)("div",{className:A,children:"".concat(j.uf.formatPercentRounded(100*t,0))}),(0,o.jsx)(S.Z,{className:m()(N,w),value:100,handleStyle:{display:"none"},disabled:!0})]})]})})},E=r(71530),D=r(54677),T=r(32292),I=r(94780),F=r(2533),L=r(95678),H=r(69931),q=r(17248),P=j.uf.formatShortName,B=j.uf.formatPercent,$=function(e){var n,r,s=e.position,a=e.onSelect,c=(0,E.Z)((function(e){return e.NFTId})),u=(0,i.useContext)(q.S).currentUser,l=(0,T.U)(s.HERC20ContractAddr),d=(l.nftContractAddress,l.htokenHelperContractAddress),f=l.hivemindContractAddress,h=(l.erc20Name,l.erc20Icon),y=l.formatDecimals,w=l.unit,N=(0,t.Z)((0,I.xb)(f,s.HERC20ContractAddr,w),2),A=N[0],_=(N[1],(0,t.Z)((0,D.qe)(d,s.HERC20ContractAddr),2)),k=_[0],Z=(_[1],(0,t.Z)((0,F.Y)(s.HERC20ContractAddr,s.tokenId,w),2)),S=Z[0],R=(Z[1],(0,t.Z)((0,D.sd)(d,s.HERC20ContractAddr,f),2)),$=R[0],M=(R[1],$/k.price),Q=L.s.find((function(e){return e.HERC20ContractAddress===s.HERC20ContractAddr})),O=(0,t.Z)((0,H.AD)(u,Q?[Q]:[],d),2),z=O[0];O[1];return(0,o.jsxs)("div",{className:m()("_16ayxha0",(0,v.Z)({},"_16ayxha1",c===s.tokenId)),onClick:function(){return a(s.HERC20ContractAddr,s.tokenId,s.couponId)},children:[(0,o.jsx)("div",{className:"_16ayxha2",children:(0,o.jsx)(p.Z,{children:(0,o.jsx)(b(),{width:46,height:46,src:s.image,alt:"collection Icon"})})}),(0,o.jsxs)("div",{className:"_16ayxha3",children:[(0,o.jsx)(C.Z,{label:s.name,children:(0,j.nq)(s.name)}),(0,o.jsx)("div",{className:"_16ayxha4"})]}),(0,o.jsxs)("div",{className:"_16ayxha5",children:[(0,o.jsx)(x.U,{title:"Floor price",value:(0,o.jsxs)("div",{className:g,children:[P(s.value,y),(0,o.jsx)(b(),{src:h,alt:s.erc20Name,layout:"fixed",width:"20px",height:"20px"})]})}),(0,o.jsx)(x.U,{title:"Debt",value:(0,o.jsxs)("div",{className:g,children:[P(parseFloat(S),y),(0,o.jsx)(b(),{src:h,alt:s.erc20Name,layout:"fixed",width:"20px",height:"20px"})]})}),(0,o.jsx)(x.U,{title:"IR",value:B(null===(n=z[0])||void 0===n?void 0:n.borrowRate,2)})]}),(0,o.jsx)("div",{className:"_16ayxha6"}),(0,o.jsx)(U,{debt:parseFloat(S),collateralValue:null!==(r=s.value)&&void 0!==r?r:0,liquidationThreshold:A,maxLoanToValue:M})]})},M=r(98243),Q=r(69160),O=(r(58653),"_1ug8ffn7"),z=r(65113),W=j.uf.formatShortName,V=j.uf.formatPercent,Y=function(e){var n=e.position,r=e.onSelect,s=(0,z.Z)((function(e){return e.HERC20ContractAddr})),a=(0,i.useContext)(q.S),c=a.currentUser,u=(a.setCurrentUser,(0,T.U)(n.id)),l=u.erc20Name,d=u.erc20Icon,f=u.formatDecimals,h=u.htokenHelperContractAddress,g=u.unit,y=(0,t.Z)((0,D.OC)(h,n.id,c,g),2),w=y[0],N=(y[1],parseFloat(w));return(0,o.jsxs)("div",{className:m()("_1ug8ffn0",(0,v.Z)({},"_1ug8ffn1",s===n.id)),onClick:function(){return r(n.id)},children:[(0,o.jsx)("div",{className:"_1ug8ffn2",children:(0,o.jsx)(p.Z,{children:(0,o.jsx)(b(),{width:46,height:46,src:n.image,alt:"collection Icon"})})}),(0,o.jsxs)("div",{className:"_1ug8ffn3",children:[(0,o.jsx)(C.Z,{label:n.name,children:(0,j.nq)(n.name)}),(0,o.jsx)("div",{className:"_1ug8ffn4"})]}),(0,o.jsxs)("div",{className:"_1ug8ffn5",children:[(0,o.jsx)(x.U,{title:"IR",value:(0,o.jsx)("span",{className:"_1ug8ffn6",children:V(n.rate,2)})}),(0,o.jsx)(x.U,{title:"Your Deposit",value:W(N<0?0:N,f)}),(0,o.jsx)(x.U,{title:"Supplied",value:(0,o.jsxs)("div",{className:O,children:[W(n.supplied,f),(0,o.jsx)(b(),{src:d,alt:l,layout:"fixed",width:"16px",height:"16px"})]})}),(0,o.jsx)(x.U,{title:"Available",value:(0,o.jsxs)("div",{className:O,children:[W(n.available,f),(0,o.jsx)(b(),{src:d,alt:l,layout:"fixed",width:"16px",height:"16px"})]})})]})]})},J=r(28424),X=r(1863),K=function(e){var n=e.borrowPositions,r=e.lendPositions,t=e.positionType,s=e.onChangePositionType,a=(0,i.useState)("riskLvl"),c=a[0],h=a[1],v=(0,i.useState)("rate"),g=v[0],p=v[1],y=(0,i.useState)(),b=y[0],x=y[1],j=(0,i.useState)([]),C=j[0],w=j[1],N=(0,i.useState)([]),A=N[0],_=N[1],k=(0,i.useMemo)((function(){return"borrow"===t?n:r}),[t,n,r]),Z=function(e){return e?(0,u.Z)(k).filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase())})):(0,u.Z)(k)};(0,i.useEffect)((function(){w(n),_(r)}),[n,r]);var S=(0,E.Z)((function(e){return e})),R=S.setWorkflow,U=S.setNFTId,D=S.setHERC20ContractAddr,T=S.setCouponId,I=(0,z.Z)((function(e){return e})),F=I.setWorkflow,L=I.setHERC20ContractAddr,H=(0,X.Z)((function(e){return e.setIsSidebarVisibleInMobile})),q=function(e,n,r){D(e),U(n),T(r),R(J.yp.loanOrBorrow),H(!0),document.body.classList.add("disable-scroll")},P=function(e){L(e),F(J.ky.lendOrWithdraw),H(!0),document.body.classList.add("disable-scroll")},B=C.filter((function(e){return"0"!==e.debt})),O=C.filter((function(e){return"0"===e.debt}));return(0,o.jsxs)("div",{className:"_1bg2lro0",children:[(0,o.jsx)("div",{className:m()(f,"_1bg2lro2"),children:"My assets"}),(0,o.jsxs)("div",{className:"_1bg2lro1",children:[(0,o.jsxs)("div",{className:"_1bg2lro5",children:[(0,o.jsx)("div",{className:m()(f,"_1bg2lro3"),children:"My assets"}),(0,o.jsx)(M.c,{items:[{name:"Borrow",slug:"borrow"},{name:"Lend",slug:"lend"}],activeItemSlug:t,onClick:function(e){return s(e)}})]}),(0,o.jsx)("div",{className:"_1bg2lro8",children:(0,o.jsx)(Q.Z,{value:b,onChange:function(e){var n,r=e.target.value;x(n=r),"borrow"==t?w(Z(n)):"lend"===t&&_(Z(n))},placeholder:"Search by name"})}),"borrow"===t?(0,o.jsx)(M.c,{items:[{name:"High risk",slug:"riskLvl"},{name:"High Debt",slug:"debt"}],isFullWidth:!0,activeItemSlug:c,onClick:function(e){h(e),function(e){if(x(void 0),"riskLvl"===e){var r=n.sort((function(e,n){return Number(n.debt)/n.value-Number(e.debt)/e.value}));console.log({sortedResult:r},"@www"),w(r)}else{var t=n.sort((function(n,r){return Number(r[e])-Number(n[e])}));console.log({sortedResult:t},"@www"),w(t)}}(e)}}):(0,o.jsx)(M.c,{items:[{name:"High IR",slug:"rate"},{name:"High deposit",slug:"deposit"}],isFullWidth:!0,activeItemSlug:g,onClick:function(e){p(e),function(e){x(void 0);var n=r.sort((function(n,r){return Number(r[e])-Number(n[e])}));console.log({sortedResult:n},"@www"),_(n)}(e)}})]}),(0,o.jsxs)("div",{className:"_1bg2lro6",children:[(0,o.jsx)("div",{className:l,children:"borrow"===t?B.map((function(e){return(0,o.jsx)($,{position:e,onSelect:q},e.name)})):A.map((function(e){return(0,o.jsx)(Y,{position:e,onSelect:P},e.id)}))}),Boolean(O.length)&&"borrow"===t&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"_1bg2lro9",children:[(0,o.jsx)("div",{className:d}),(0,o.jsx)("span",{className:"_1bg2lroa",children:"Your not borrowed NFTs"}),(0,o.jsx)("div",{className:d})]}),(0,o.jsx)("div",{className:l,children:O.map((function(e){return(0,o.jsx)($,{position:e,onSelect:q},e.name)}))})]})]})]})},G=r(99562),ee=r(16086),ne=r(10631),re=r(75819),te=r(47568),oe=r(70655),se=function(e,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,t=e,o=[];t<=n;)o.push({epoch:t,value:Math.random()*r}),t+=36e5;return o},ae=r(26042),ie=r(69396),ce=r(7297),ue=r(75332),le=r(55102),de=r(59102),fe=r(12737),he=r(87823),me=r(85590),ve=r(35174),ge=r(26470),pe=r.n(ge);function ye(){var e=(0,ce.Z)(["\n    fragment CouponData on Coupon {\n  collateralID\n  couponID\n  underlyingTokenAddr\n  collateralTokenAddr\n  hTokenAddr\n  owner\n  amount\n}\n    "]);return ye=function(){return e},e}function be(){var e=(0,ce.Z)(["\n    fragment UserUnderlyingData on UserUnderlying {\n  owner\n  amount\n  hTokenAddr\n}\n    "]);return be=function(){return e},e}function xe(){var e=(0,ce.Z)(["\n    query ActiveCouponQuery($first: Int = 100) {\n  coupons(\n    first: $first\n    orderBy: underlyingTokenAddr\n    orderDirection: desc\n    where: {active: true}\n  ) {\n    ...CouponData\n  }\n}\n    ",""]);return xe=function(){return e},e}function je(){var e=(0,ce.Z)(["\n    query ActiveCouponByCollectionQuery($HERC20ContractAddress: String!, $first: Int = 100) {\n  coupons(\n    first: $first\n    orderBy: underlyingTokenAddr\n    orderDirection: desc\n    where: {active: true, hTokenAddr: $HERC20ContractAddress}\n  ) {\n    ...CouponData\n  }\n}\n    ",""]);return je=function(){return e},e}function Ce(){var e=(0,ce.Z)(["\n    query ActiveCouponByUserQuery($userAddress: String!, $first: Int = 100) {\n  coupons(\n    first: $first\n    orderBy: underlyingTokenAddr\n    orderDirection: desc\n    where: {active: true, owner: $userAddress}\n  ) {\n    ...CouponData\n  }\n}\n    ",""]);return Ce=function(){return e},e}function we(){var e=(0,ce.Z)(["\n    query UnderlyingByUserQuery($userAddress: String!, $first: Int = 100) {\n  userUnderlyings(\n    first: $first\n    orderBy: hTokenAddr\n    orderDirection: desc\n    where: {owner: $userAddress}\n  ) {\n    ...UserUnderlyingData\n  }\n}\n    ",""]);return we=function(){return e},e}var Ne,Ae=pe().join(pe().dirname((0,ue.XN)("file:///home/runner/work/frontend-nft/frontend-nft/.graphclient/index.ts")),".."),_e=function(e){var n=(pe().isAbsolute(e)?pe().relative(Ae,e):e).split("\\").join("/").replace(Ae+"/","");return".graphclient/sources/honey-dashboard-arbitrum/introspectionSchema"===n?r.e(4096).then(r.bind(r,54096)):Promise.reject(new Error("Cannot find module '".concat(n,"'.")))},ke=new ve.bn(".graphclient",new ve.wH({cwd:Ae,importFn:_e,fileType:"ts"}),{readonly:!0,validate:!1});function Ze(){return(Ze=(0,te.Z)((function(){var e,n,r,t,o,s,a,i,c,u,l,d,f,h,m,g,p,y,b;return(0,oe.__generator)(this,(function(x){return e=new ue.pS,n=ke.child("sources"),r=new ue.Mn("GraphClient"),o={},s={},a={},t=new le.Z((0,ie.Z)((0,ae.Z)(o,s),(a.importFn=_e,a.store=ke.child("cache"),a.pubsub=e,a.logger=r,a))),i=[],c=[],u=[],l=[],d=[],h={},f=new fe.Z((h.name="honey-dashboard-arbitrum",h.config={endpoint:"https://api.thegraph.com/subgraphs/name/tomjpandolfi/honey-dashboard-arbitrum"},h.baseDir=Ae,h.cache=t,h.pubsub=e,h.store=n.child("honey-dashboard-arbitrum"),h.logger=r.child("honey-dashboard-arbitrum"),h.importFn=_e,h)),i[0]={name:"honey-dashboard-arbitrum",handler:f,transforms:l},m=[],p={},g=new he.Z((p.cache=t,p.pubsub=e,p.logger=r.child("bareMerger"),p.store=ke.child("bareMerger"),p)),b={},[2,((y={}).sources=i,y.transforms=c,y.additionalTypeDefs=d,y.additionalResolvers=m,y.cache=t,y.pubsub=e,y.merger=g,y.logger=r,y.additionalEnvelopPlugins=u,(0,v.Z)(y,"documents",(b.get=function(){return[{document:Ee,get rawSDL(){return(0,ue.gJ)(Ee)},location:"ActiveCouponQueryDocument.graphql"},{document:De,get rawSDL(){return(0,ue.gJ)(De)},location:"ActiveCouponByCollectionQueryDocument.graphql"},{document:Te,get rawSDL(){return(0,ue.gJ)(Te)},location:"ActiveCouponByUserQueryDocument.graphql"},{document:Ie,get rawSDL(){return(0,ue.gJ)(Ie)},location:"UnderlyingByUserQueryDocument.graphql"}]},b)),y.fetchFn=de.he,y)]}))}))).apply(this,arguments)}function Se(){return null==Ne&&(Ne=function(){return Ze.apply(this,arguments)}().then((function(e){return(0,me.Xh)(e)})).then((function(e){var n=e.pubsub.subscribe("destroy",(function(){Ne=void 0,e.pubsub.unsubscribe(n)}));return e}))),Ne}var Re=(0,ue.Ps)(ye()),Ue=(0,ue.Ps)(be()),Ee=(0,ue.Ps)(xe(),Re),De=(0,ue.Ps)(je(),Re),Te=(0,ue.Ps)(Ce(),Re),Ie=(0,ue.Ps)(we(),Ue);var Fe=r(88767),Le=r(28432),He=r(56050),qe=r(27006),Pe=r(18269),Be=function(e){var n,r=Se().then((function(n){return(0,n.sdkRequesterFactory)(e)}));return n=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return r.then((function(e){return e.apply(void 0,(0,u.Z)(n))}))},{ActiveCouponQuery:function(e,r){return n(Ee,e,r)},ActiveCouponByCollectionQuery:function(e,r){return n(De,e,r)},ActiveCouponByUserQuery:function(e,r){return n(Te,e,r)},UnderlyingByUserQuery:function(e,r){return n(Ie,e,r)}}}();var $e=[{title:"Polygon Alpha Launch",description:"Alpha testing now live for Polygon!"},{title:"New Arbitrum Markets",description:"Lost Donkeys, Oreochads, Blueberry Club, Primapes"},{title:"Arbitrum Alpha Launch",description:"Alpha testing now live for Arbitrum!"}];var Me=function(){var e=(0,i.useContext)(q.S),n=e.currentUser,r=(e.setCurrentUser,(0,t.Z)(function(){for(var e=[],n=0;n<30;n++)e.push({name:"Any name loooong #".concat(n),value:1e4*Math.random(),difference:Math.random(),image:"/nfts/honeyEyes.png"});return[e,!1]}(),2)),l=(r[0],r[1],(0,t.Z)(function(e){var n,r=(null===e||void 0===e?void 0:e.address)||"",t={HERC20ContractAddress:"",price:0},o=(0,Fe.useQuery)(Le.a.listUserCollateral(r),(0,te.Z)((function(){var e;return(0,oe.__generator)(this,(function(n){switch(n.label){case 0:return e={},[4,Be.ActiveCouponByUserQuery((e.userAddress=r.toLowerCase(),e))];case 1:return[2,n.sent()]}}))})),{onSuccess:function(e){return e},onError:function(){return null},retry:!1,staleTime:He.$r}),s=o.data,a=o.isLoading,i=o.isFetching,c=(null===s||void 0===s||null===(n=s.coupons)||void 0===n?void 0:n.map((function(e){return{name:"".concat((0,qe.lz)(e.hTokenAddr),"#").concat(e.collateralID),image:(0,qe.WB)(e.hTokenAddr),couponId:e.couponID,tokenId:e.collateralID,HERC20ContractAddr:e.hTokenAddr,erc20Name:(0,qe.LL)(e.hTokenAddr),debt:(0,Pe.fromWei)(e.amount,(0,qe.$g)(e.hTokenAddr)),value:0}})))||[],l=(0,u.Z)(new Set(c.map((function(e){return e.HERC20ContractAddr})))),d=(0,Fe.useQueries)(l.map((function(e){var n=(0,T.U)(e).htokenHelperContractAddress;return{queryKey:Le.a.nftPrice(e),queryFn:(0,te.Z)((function(){var r;return(0,oe.__generator)(this,(function(o){if(r={},""==e)return[2,t];try{return[2,(0,D.hw)(n,e)]}catch(s){return console.error("Error fetching nft price"),console.error(s),r.HERC20ContractAddress=e,r.price=0,[2,r]}return[2]}))})),staleTime:He.$r,retry:!1,enabled:l.length>0}}))),f=d.map((function(e){return e.data||t})).filter((function(e){return""!=e.HERC20ContractAddress})),h=c.map((function(e){var n=f.filter((function(n){return n.HERC20ContractAddress.toLowerCase()==e.HERC20ContractAddr.toLowerCase()}));return e.value=n&&n.length>0?n[0].price:0,e})),m=d.some((function(e){return e.isLoading})),v=d.some((function(e){return e.isFetching}));return[h,a||i||m||v]}(n),2)),d=l[0],f=(l[1],(0,t.Z)(function(e){var n,r=(null===e||void 0===e?void 0:e.address)||"",t={HERC20ContractAddress:"",borrowInterestRate:"0",supplyInterestRate:"0",supplied:"0",available:"0"},o=(0,Fe.useQuery)(Le.a.listUserUnderlying(r),(0,te.Z)((function(){var e;return(0,oe.__generator)(this,(function(n){switch(n.label){case 0:return e={},[4,Be.UnderlyingByUserQuery((e.userAddress=r.toLowerCase(),e))];case 1:return[2,n.sent()]}}))})),{onSuccess:function(e){return e},onError:function(){return null},retry:!1,staleTime:He.$r}),s=o.data,a=o.isLoading,i=o.isFetching,c=(null===s||void 0===s||null===(n=s.userUnderlyings)||void 0===n?void 0:n.map((function(e){return{name:"".concat((0,qe.lz)(e.hTokenAddr),"/").concat((0,qe.LL)(e.hTokenAddr)),deposit:(0,Pe.fromWei)(e.amount,(0,qe.$g)(e.hTokenAddr)),supplied:0,rate:0,available:0,image:(0,qe.WB)(e.hTokenAddr),id:e.hTokenAddr}})))||[],l=(0,u.Z)(new Set(c.map((function(e){return e.id})))),d=(0,Fe.useQueries)(l.map((function(e){var n=(0,T.U)(e),r=n.htokenHelperContractAddress,o=n.unit;return{queryKey:Le.a.lendData(e),queryFn:(0,te.Z)((function(){var n,s;return(0,oe.__generator)(this,(function(a){switch(a.label){case 0:if(""==r&&""==e)return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(0,D.oc)(r,e,o)];case 2:return[2,a.sent()];case 3:return n=a.sent(),console.error("Error fetching market data with error"),console.error(n),(s={}).HERC20ContractAddress=e,s.borrowInterestRate="0",s.supplyInterestRate="0",s.supplied="0",s.available="0",[2,s];case 4:return[3,6];case 5:return[2,t];case 6:return[2]}}))})),staleTime:He.$r,retry:!1}}))),f=d.map((function(e){return e.data||t})).filter((function(e){return""!=e.HERC20ContractAddress})),h=c.map((function(e){var n=f.filter((function(n){return n.HERC20ContractAddress.toLowerCase()==e.id.toLowerCase()}));if(n&&n.length>0){var r=n[0];e.supplied=parseFloat(r.supplied),e.available=parseFloat(r.available),e.rate=parseFloat(r.supplyInterestRate)}return e})),m=d.some((function(e){return e.isLoading})),v=d.some((function(e){return e.isFetching}));return[h,a||i||m||v]}(n),2)),h=f[0],m=(f[1],(0,t.Z)(function(){var e=(new Date).setFullYear((new Date).getFullYear()-1).valueOf(),n=(new Date).valueOf();return[se(e,n,1e4),!1]}(),2)),v=(m[0],m[1],(0,t.Z)([4129.1,!1],2)),g=(v[0],v[1],(0,t.Z)([$e,!1],2)),p=g[0],y=(g[1],(0,i.useState)([])),b=(y[0],y[1]),x=(0,X.Z)((function(e){return e.isSidebarVisibleInMobile})),j=(0,i.useState)("borrow"),C=j[0],w=j[1],N=(0,ee.Z)().width;(0,i.useEffect)((function(){N>=ne.I?b(p.slice(0,3)):b(p.slice(0,1))}),[p,N]);return(0,o.jsxs)(a.Z,{children:[(0,o.jsx)(s.Z,{className:"v4914j0",children:(0,o.jsx)("div",{className:"v4914j1"})}),(0,o.jsx)(s.Z,{sidebar:(0,o.jsx)(c.Z,{isMobileSidebarVisible:x,children:"borrow"===C?(0,o.jsx)(G.Z,{}):(0,o.jsx)(re.Z,{})}),children:(0,o.jsx)("div",{className:"v4914j4",children:(0,o.jsx)("div",{className:"v4914j5",children:(0,o.jsx)(K,{borrowPositions:d,lendPositions:h,onChangePositionType:w,positionType:C})})})})]})}},81404:function(){},70754:function(){},96189:function(){},72736:function(){},58653:function(){},60115:function(){},21103:function(){}},function(e){e.O(0,[5270,9277,3254,4035,2766,5819,9774,2888,179],(function(){return n=26117,e(e.s=n);var n}));var n=e.O();_N_E=n}]);