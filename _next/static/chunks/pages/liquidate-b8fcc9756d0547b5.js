(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9594],{82099:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/liquidate",function(){return t(62928)}])},2886:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var s,r=t(85893),a=(t(67294),t(22497),t(80182),"bsjpo10"),i="bsjpo11",c="bsjpo12",l="bsjpo13",o="bsjpo14";!function(e){e[e.Safe=100]="Safe",e[e.Warning=70]="Warning",e[e.Danger=40]="Danger",e[e.Min=0]="Min"}(s||(s={}));var u=function(e){var n=e.healthLvl;return(0,r.jsx)(r.Fragment,{children:n&&function(e){return e>s.Warning&&e<=s.Safe?(0,r.jsxs)("div",{className:a,children:[(0,r.jsx)("span",{className:o,children:"".concat(e.toFixed(),"%")})," ",(0,r.jsx)("span",{className:l,children:"Health"})]}):e<=s.Warning&&e>s.Danger?(0,r.jsxs)("div",{className:i,children:[(0,r.jsx)("span",{className:o,children:"".concat(e.toFixed(),"%")})," ",(0,r.jsx)("span",{className:l,children:"Health"})]}):e<=s.Danger&&e>s.Min?(0,r.jsxs)("div",{className:c,children:[(0,r.jsx)("span",{className:o,children:"".concat(e.toFixed(),"%")})," ",(0,r.jsx)("span",{className:l,children:"Health"})]}):(0,r.jsx)("div",{className:o,children:"0"})}(n)})}},98243:function(e,n,t){"use strict";t.d(n,{c:function(){return l}});var s=t(14924),r=t(85893),a=(t(67294),t(22497),t(70754),{active:"_1qgw29za _1qgw29z4",passive:"_1qgw29zb _1qgw29z4"}),i=t(94184),c=t.n(i),l=function(e){var n=e.items,t=e.activeItemSlug,i=e.isFullWidth,l=e.onClick;return(0,r.jsx)("div",{className:c()("_1qgw29z0",(0,s.Z)({},"_1qgw29z1",i)),children:(0,r.jsx)("div",{className:c()("_1qgw29z2",(0,s.Z)({},"_1qgw29z3",!i)),children:n.map((function(e,s){var i=e.slug==t?"active":"passive",c=n.length-1!==s&&"active"!==i;return(0,r.jsxs)("div",{className:a[i],onClick:function(){return l(e.slug)},children:[e.nameMobile?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"_1qgw29z6",children:e.name}),(0,r.jsx)("div",{className:"_1qgw29z8",children:e.nameMobile})]}):(0,r.jsx)(r.Fragment,{children:e.name}),c&&(0,r.jsx)("div",{className:"_1qgw29z5"})]},e.slug)}))})})}},3804:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var s=t(85893),r=t(89277),a=(t(67294),t(22497),t(76174),"_1d2x85u1"),i=function(e){return(0,s.jsx)("div",{className:"_1d2x85u0",children:e.link?(0,s.jsxs)(r.Z,{href:e.link,target:"_blank",className:"_1d2x85u2",children:[(0,s.jsx)("p",{className:a,children:e.message}),(0,s.jsx)("div",{className:"_1d2x85u3"})]}):(0,s.jsx)("p",{className:a,children:e.message})})}},62928:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return hn}});var s=t(14924),r=t(828),a=t(36305),i=t(85893),c=t(20642),l=t(67294),o=(t(22497),t(59145),t(70217),t(958)),u=t(56242),d=t(47568),m=t(51351),h=t(70655),f=t(25675),v=t.n(f),x=t(64678),j=t(48677),b=t(45424),N=(t(56408),"h4f9l3"),p="h4f9l2 h4f9l1",g=t(84709),C=t(99505),_=t(26295),A=t(3804),Z=(t(41219),t(27043)),k=g.uf.formatERC20,y=function(e){var n=e.title,t=e.onClick,s=e.value,r=e.buttonText,a=e.disabled,c=e.unlockTime,l=e.formatDecimals,o=c>Date.now()/1e3;return(0,i.jsxs)("div",{className:"_1dbzqbb0",children:[(0,i.jsx)(x.U,{value:k(s,l),valueSize:"big",title:n||""}),(0,i.jsx)(Z.Z,{label:o?"Unlock time not reached yet":"",children:(0,i.jsx)(C.Z,{onClick:t,variant:"secondary",disabled:a,children:r})})]})},I=t(74990),T=t(70751),S=t(79650),w=t(68146),R=t(1863),E=t(17248),F=t(88767),B=t(29850),P=t(32292),D=t(28424),q=t(54677),W=t(63323),L=t(28432),O=t(56050),V=t(18269),z=t(93358),M=t(33722),U=t(88864);function H(){return(H=(0,d.Z)((function(e,n){var t,s,r,a,i,c,l,o,u,d,m,f,v;return(0,h.__generator)(this,(function(h){switch(h.label){case 0:return[4,fetch("".concat(z.sb,"/abi/marketPlace.json"))];case 1:return[4,h.sent().json()];case 2:return t=h.sent(),(r={}).chain=z.tS,r.address=e,r.functionName="viewAuctionCollection",r.abi=t,r.params={_hToken:n},s=r,[4,M.Z.EvmApi.utils.runContractFunction(s)];case 3:return a=h.sent(),i=a.result,c=i[1],l=i[2],o=i[3],u=i[4],d=i[5],m=o.map((function(e,n){return{bid:u[n],bidder:e,unlockTimeStamp:d[n]}})),f=m.filter((function(e){return e.bidder!=O.ZV})),(v={}).highestBidder=c==O.ZV?"":c,v.highestBid=c==O.ZV?"0":l,v.bids=f,[2,v]}}))}))).apply(this,arguments)}function Q(e,n){var t={highestBidder:"",highestBid:"0",bids:[]},s=(0,F.useQuery)(L.a.listCollectionBids(e,n),(function(){return""!=n&&""!=e?function(e,n){return H.apply(this,arguments)}(e,n):t}),{onSuccess:function(e){return e},onError:function(){return t},retry:!1,staleTime:O.$r}),r=s.data,a=s.isLoading,i=s.isFetching;return[r||t,a||i]}var $=function(){var e=(0,d.Z)((function(e){var n,t,s,r,a,i,c,l,o;return(0,h.__generator)(this,(function(u){switch(u.label){case 0:return n=e.marketContractAddress,t=e.HERC20ContractAddress,s=e.amount,r=e.unit,[4,fetch("".concat(z.sb,"/abi/marketPlace.json"))];case 1:return[4,u.sent().json()];case 2:return a=u.sent(),c={},[4,(0,U.$q)((c.address=n,c.functionName="bidCollection",c.abi=a,c.args=[t,(0,V.toWei)(s,r)],c))];case 3:return i=u.sent(),[4,(0,U.n9)(i)];case 4:return l=u.sent(),console.log("transaction hash: ".concat(l.hash)),[4,l.wait(z.Ol)];case 5:return o=u.sent(),console.log(o),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),Y=function(){var e=(0,d.Z)((function(e){var n,t,s,r,a,i,c;return(0,h.__generator)(this,(function(l){switch(l.label){case 0:return n=e.marketContractAddress,t=e.HERC20ContractAddress,[4,fetch("".concat(z.sb,"/abi/marketPlace.json"))];case 1:return[4,l.sent().json()];case 2:return s=l.sent(),a={},[4,(0,U.$q)((a.address=n,a.functionName="cancelBidCollection",a.abi=s,a.args=[t],a))];case 3:return r=l.sent(),[4,(0,U.n9)(r)];case 4:return i=l.sent(),console.log("transaction hash: ".concat(i.hash)),[4,i.wait(z.Ol)];case 5:return c=l.sent(),console.log(c),[2]}}))}));return function(n){return e.apply(this,arguments)}}();function K(){return(K=(0,d.Z)((function(e,n){var t,s,r,a;return(0,h.__generator)(this,(function(i){switch(i.label){case 0:return[4,fetch("".concat(z.sb,"/abi/marketPlace.json"))];case 1:return[4,i.sent().json()];case 2:return t=i.sent(),(r={}).chain=z.tS,r.address=e,r.functionName="viewMinimumNextBidCollection",r.abi=t,r.params={_hToken:n},s=r,[4,M.Z.EvmApi.utils.runContractFunction(s)];case 3:return a=i.sent(),[2,a.result]}}))}))).apply(this,arguments)}function X(e,n){var t=(0,F.useQuery)(L.a.listCollectionMinimumBid(e,n),(function(){return""!=n&&""!=e?function(e,n){return K.apply(this,arguments)}(e,n):"0"}),{onSuccess:function(e){return e},onError:function(){return"0"},retry:!1,staleTime:O.$r}),s=t.data,r=t.isLoading,a=t.isFetching;return[s||"",r||a]}function G(){return(G=(0,d.Z)((function(e,n,t){var s,r,a,i;return(0,h.__generator)(this,(function(c){switch(c.label){case 0:return[4,fetch("".concat(z.sb,"/abi/marketPlace.json"))];case 1:return[4,c.sent().json()];case 2:return s=c.sent(),(a={}).chain=z.tS,a.address=e,a.functionName="viewAvailableRefund",a.abi=s,a.params={_token:n,_user:t},r=a,[4,M.Z.EvmApi.utils.runContractFunction(r)];case 3:return i=c.sent(),[2,i.result]}}))}))).apply(this,arguments)}function J(e,n,t){var s=(0,F.useQuery)(L.a.userRefund(t,n),(function(){return""!=n&&""!=t?function(e,n,t){return G.apply(this,arguments)}(e,n,t):"0"}),{onSuccess:function(e){return e},onError:function(){return"0"},retry:!1,staleTime:O.$r}),r=s.data,a=s.isLoading,i=s.isFetching;return[r||"0",a||i]}var ee=function(){var e=(0,d.Z)((function(e){var n,t,s,r,a,i,c;return(0,h.__generator)(this,(function(l){switch(l.label){case 0:return n=e.marketContractAddress,t=e.ERC20ContractAddress,[4,fetch("".concat(z.sb,"/abi/marketPlace.json"))];case 1:return[4,l.sent().json()];case 2:return s=l.sent(),a={},[4,(0,U.$q)((a.address=n,a.functionName="withdrawRefund",a.abi=s,a.args=[t],a))];case 3:return r=l.sent(),[4,(0,U.n9)(r)];case 4:return i=l.sent(),console.log("transaction hash: ".concat(i.hash)),[4,i.wait(z.Ol)];case 5:return c=l.sent(),console.log(c),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),ne=function(){var e=(0,d.Z)((function(e){var n,t,s,r,a,i,c,l,o;return(0,h.__generator)(this,(function(u){switch(u.label){case 0:return n=e.marketContractAddress,t=e.HERC20ContractAddress,s=e.increaseAmount,r=e.unit,[4,fetch("".concat(z.sb,"/abi/marketPlace.json"))];case 1:return[4,u.sent().json()];case 2:return a=u.sent(),c={},[4,(0,U.$q)((c.address=n,c.functionName="increaseBidCollection",c.abi=a,c.args=[t,(0,V.toWei)(s,r)],c))];case 3:return i=u.sent(),[4,(0,U.n9)(i)];case 4:return l=u.sent(),console.log("transaction hash: ".concat(l.hash)),[4,l.wait(z.Ol)];case 5:return o=u.sent(),console.log(o),[2]}}))}));return function(n){return e.apply(this,arguments)}}();function te(){return(te=(0,d.Z)((function(e,n,t){var s,r,a,i,c,l,o,u,d,m,f,v,x;return(0,h.__generator)(this,(function(h){switch(h.label){case 0:return[4,fetch("".concat(z.sb,"/abi/marketPlace.json"))];case 1:return[4,h.sent().json()];case 2:return s=h.sent(),(a={}).chain=z.tS,a.address=e,a.functionName="viewAuctionSingle",a.abi=s,a.params={_hToken:n,_collateralId:t},r=a,[4,M.Z.EvmApi.utils.runContractFunction(r)];case 3:return i=h.sent(),c=i.result,l=c[1],o=c[2],u=c[3],d=c[4],m=c[5],f=u.map((function(e,n){return{bid:d[n],bidder:e,unlockTimeStamp:m[n]}})),v=f.filter((function(e){return e.bidder!=O.ZV})),(x={}).highestBidder=l==O.ZV?"":l,x.highestBid=l==O.ZV?"0":o,x.bids=v,[2,x]}}))}))).apply(this,arguments)}function se(e,n,t){var s={highestBidder:"",highestBid:"0",bids:[]},r=(0,F.useQuery)(L.a.listCollateralBids(e,n,t),(function(){return""!=n&&""!=e?function(e,n,t){return te.apply(this,arguments)}(e,n,t):s}),{onSuccess:function(e){return e},onError:function(){return s},retry:!1,staleTime:O.$r}),a=r.data,i=r.isLoading,c=r.isFetching;return[a||s,i||c]}var re=function(){var e=(0,d.Z)((function(e){var n,t,s,r,a,i,c,l,o,u;return(0,h.__generator)(this,(function(d){switch(d.label){case 0:return n=e.marketContractAddress,t=e.HERC20ContractAddress,s=e.amount,r=e.NFTTokenId,a=e.unit,[4,fetch("".concat(z.sb,"/abi/marketPlace.json"))];case 1:return[4,d.sent().json()];case 2:return i=d.sent(),l={},[4,(0,U.$q)((l.address=n,l.functionName="bidSingle",l.abi=i,l.args=[t,r,(0,V.toWei)(s,a)],l))];case 3:return c=d.sent(),[4,(0,U.n9)(c)];case 4:return o=d.sent(),console.log("transaction hash: ".concat(o.hash)),[4,o.wait(z.Ol)];case 5:return u=d.sent(),console.log(u),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),ae=function(){var e=(0,d.Z)((function(e){var n,t,s,r,a,i,c,l;return(0,h.__generator)(this,(function(o){switch(o.label){case 0:return n=e.marketContractAddress,t=e.HERC20ContractAddress,s=e.NFTTokenId,[4,fetch("".concat(z.sb,"/abi/marketPlace.json"))];case 1:return[4,o.sent().json()];case 2:return r=o.sent(),i={},[4,(0,U.$q)((i.address=n,i.functionName="cancelBidSingle",i.abi=r,i.args=[t,s],i))];case 3:return a=o.sent(),[4,(0,U.n9)(a)];case 4:return c=o.sent(),console.log("transaction hash: ".concat(c.hash)),[4,c.wait(z.Ol)];case 5:return l=o.sent(),console.log(l),[2]}}))}));return function(n){return e.apply(this,arguments)}}();function ie(){return(ie=(0,d.Z)((function(e,n,t){var s,r,a,i;return(0,h.__generator)(this,(function(c){switch(c.label){case 0:return[4,fetch("".concat(z.sb,"/abi/marketPlace.json"))];case 1:return[4,c.sent().json()];case 2:return s=c.sent(),(a={}).chain=z.tS,a.address=e,a.functionName="viewMinimumNextBidSingle",a.abi=s,a.params={_hToken:n,_collateralId:t},r=a,[4,M.Z.EvmApi.utils.runContractFunction(r)];case 3:return i=c.sent(),[2,i.result]}}))}))).apply(this,arguments)}function ce(e,n,t){var s=(0,F.useQuery)(L.a.listCollateralMinimumBid(e,n,t),(function(){return""!=n&&""!=e&&""!=t?function(e,n,t){return ie.apply(this,arguments)}(e,n,t):"0"}),{onSuccess:function(e){return e},onError:function(){return"0"},retry:!1,staleTime:O.$r}),r=s.data,a=s.isLoading,i=s.isFetching;return[r||"",a||i]}var le=function(){var e=(0,d.Z)((function(e){var n,t,s,r,a,i,c,l,o,u;return(0,h.__generator)(this,(function(d){switch(d.label){case 0:return n=e.marketContractAddress,t=e.HERC20ContractAddress,s=e.increaseAmount,r=e.NFTTokenId,a=e.unit,[4,fetch("".concat(z.sb,"/abi/marketPlace.json"))];case 1:return[4,d.sent().json()];case 2:return i=d.sent(),l={},[4,(0,U.$q)((l.address=n,l.functionName="increaseBidSingle",l.abi=i,l.args=[t,r,(0,V.toWei)(s,a)],l))];case 3:return c=d.sent(),[4,(0,U.n9)(c)];case 4:return o=d.sent(),console.log("transaction hash: ".concat(o.hash)),[4,o.wait(z.Ol)];case 5:return u=d.sent(),console.log(u),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),oe=t(13550),ue=t(90482);function de(e){return e.sort((function(e,n){var t=new oe.BN(e.bid),s=new oe.BN(n.bid);return t.lt(s)?1:t.eq(s)?0:-1}))}function me(e,n){return parseFloat((0,V.fromWei)(e,n))}function he(e,n){return n.bids.some((function(n){return(0,P.w)(n.bidder,e)}))}function fe(e,n,t){var s=n.bids.filter((function(n){return(0,P.w)(n.bidder,e)}));return 0==s.length?{value:0,unlockTime:0}:{value:parseFloat((0,V.fromWei)(s[0].bid,t)),unlockTime:s[0].unlockTimeStamp}}function ve(e,n){return(0,P.w)(n.highestBidder,e)}function xe(e){return"0"!=e}function je(e,n){return parseFloat((0,V.fromWei)(e,n))}function be(e,n,t){var s=function(e,n){var t=(0,V.fromWei)(e,n),s=new ue.Z(t).toFixed(2,ue.Z.ROUND_UP);return parseFloat(s)}(e,t),r=new ue.Z(n).toFixed(2,ue.Z.ROUND_DOWN),a=parseFloat(r)+.01;return a>=s?a:s}var Ne=g.uf.format,pe=(g.uf.formatPercent,g.uf.formatUsd,g.uf.formatERC20),ge=g.uf.parse,Ce=(g.uf.formatRoundDown,function(e){e=null!==e?e:(0,m.Z)(new TypeError("Cannot destructure undefined"));var n=(0,R.Z)((function(e){return e.setIsSidebarVisibleInMobile})),t=(0,l.useContext)(E.S).currentUser,s=(0,F.useQueryClient)(),a=(null===t||void 0===t?void 0:t.address)||"",c=(0,B.Z)((function(e){return e.HERC20ContractAddr})),o=(0,P.U)(c),u=o.marketContractAddress,f=o.htokenHelperContractAddress,g=o.ERC20ContractAddress,Z=o.name,k=o.icon,O=o.erc20Name,z=o.unit,M=o.formatDecimals,U=(0,B.Z)((function(e){return e.setWorkflow})),H=(0,r.Z)((0,q.fv)(f,c),2),K=H[0],G=H[1],te=(0,r.Z)((0,W.aE)(g,t,z),2),se=te[0],re=te[1],ae=(0,r.Z)(Q(u,c),2),ie=ae[0],ce=ae[1],le=(0,r.Z)(X(u,c),2),oe=le[0],ue=le[1],de=(0,r.Z)(J(u,g,a),2),me=de[0],Ce=de[1],_e=(0,l.useState)(0),Ae=_e[0],Ze=_e[1],ke=(0,l.useState)(0),ye=ke[0],Ie=ke[1],Te=(0,l.useState)(0),Se=Te[0],we=Te[1],Re=(0,w.Z)(),Ee=Re.toast,Fe=Re.ToastComponent,Be=(0,w.Z)(),Pe=Be.toast,De=Be.ToastComponent,qe=(0,l.useState)("WAIT_FOR_APPROVAL"),We=qe[0],Le=qe[1],Oe=(0,l.useState)(!0),Ve=Oe[0],ze=Oe[1],Me=be(oe,fe(a,ie,z).value,z),Ue=(0,r.Z)((0,W.Jw)(g,u,t,ye,z),2),He=Ue[0],Qe=Ue[1];(0,l.useEffect)((function(){G||re||Qe||ce||ue||Ce?(Ee.processing("Loading"),ze(!0)):(Ye(),Ee.clear(0),ze(!1))}),[G,re,Qe,ce,ue,Ce,c,He]);var $e=function(e){we(e),Ze(e*K),Ie(e)},Ye=function(){He?he(a,ie)?Le("WAIT_FOR_INCREASE_BID"):Le("WAIT_FOR_BID"):Le("WAIT_FOR_APPROVAL")},Ke=(0,F.useMutation)(W.l$),Xe=(0,F.useMutation)(Y),Ge=(0,F.useMutation)(ee),Je=(0,F.useMutation)($),en=(0,F.useMutation)(ne),nn=function(){var e=(0,d.Z)((function(){var e,n,t;return(0,h.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,9,10,11]),Pe.processing(),ze(!0),xe(me)?(e={},[4,Ge.mutateAsync((e.marketContractAddress=u,e.ERC20ContractAddress=g,e))]):[3,4];case 1:return r.sent(),console.log("Withdraw bid succeed"),[4,s.invalidateQueries(L.a.userBalance(a,g))];case 2:return r.sent(),[4,s.invalidateQueries(L.a.userRefund(a,g))];case 3:return r.sent(),[3,8];case 4:return n={},[4,Xe.mutateAsync((n.marketContractAddress=u,n.HERC20ContractAddress=c,n))];case 5:return r.sent(),console.log("Cancel bid succeed"),[4,s.invalidateQueries(L.a.listCollectionBids(u,c))];case 6:return r.sent(),[4,s.invalidateQueries(L.a.userRefund(a,g))];case 7:r.sent(),r.label=8;case 8:return Pe.success("Successful! Transaction complete"),[3,11];case 9:return t=r.sent(),console.error(t),Pe.error("Sorry! Transaction failed"),[3,11];case 10:return ze(!1),[7];case 11:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),tn=function(){return xe(me)?{value:je(me,z),unlockTime:0}:fe(a,ie,z)},sn=function(){var e=(0,d.Z)((function(){var e,n,t,r;return(0,h.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,12,13,14]),Pe.processing(),ze(!0),"WAIT_FOR_BID"!=We?[3,4]:(e={},[4,Je.mutateAsync((e.marketContractAddress=u,e.HERC20ContractAddress=c,e.amount=ge(Ne(ye)).toString(),e.unit=z,e))]);case 1:return i.sent(),console.log("Collection bid succeed"),[4,s.invalidateQueries(L.a.listCollectionBids(u,c))];case 2:return i.sent(),[4,s.invalidateQueries(L.a.userBalance(a,g))];case 3:return i.sent(),[3,11];case 4:return"WAIT_FOR_APPROVAL"!=We?[3,7]:(n={},[4,Ke.mutateAsync((n.ERC20ContractAddress=g,n.contractAddress=u,n))]);case 5:return i.sent(),console.log("Approval succeed"),[4,s.invalidateQueries(L.a.userApproval(a,g,u))];case 6:return i.sent(),[3,11];case 7:return"WAIT_FOR_INCREASE_BID"!=We?[3,11]:(t={},[4,en.mutateAsync((t.marketContractAddress=u,t.HERC20ContractAddress=c,t.increaseAmount=ge(Ne(ye)).toString(),t.unit=z,t))]);case 8:return i.sent(),console.log("Increase Collection Bid succeed"),[4,s.invalidateQueries(L.a.listCollectionBids(u,c))];case 9:return i.sent(),[4,s.invalidateQueries(L.a.userBalance(a,g))];case 10:i.sent(),$e(0),i.label=11;case 11:return Pe.success("Successful! Transaction complete"),[3,14];case 12:return r=i.sent(),console.error(r),Pe.error("Sorry! Transaction failed"),[3,14];case 13:return ze(!1),[7];case 14:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),rn=Pe.state?De:Fe;return(0,i.jsx)(I.Z,{footer:(null===Ee||void 0===Ee?void 0:Ee.state)||Pe.state?rn:(0,i.jsxs)("div",{className:"h4f9l9",children:[(0,i.jsx)("div",{className:"h4f9la",children:(0,i.jsx)(C.Z,{variant:"secondary",onClick:function(){n(!1),U(D.T_.none),document.body.classList.remove("disable-scroll")},children:"Cancel"})}),(0,i.jsx)("div",{className:"h4f9lb",children:(0,i.jsx)(C.Z,{variant:"primary",disabled:"WAIT_FOR_BID"==We?ge(Ne(ye))<Me:"WAIT_FOR_INCREASE_BID"==We&&ge(Ne(ye))+fe(a,ie,z).value<Me,isFluid:!0,onClick:sn,children:(0,i.jsx)(i.Fragment,{children:"WAIT_FOR_APPROVAL"==We?"Approve":"WAIT_FOR_INCREASE_BID"==We?"Increase Bid":"Place Bid"})})})]}),children:(0,i.jsxs)("div",{className:"h4f9l0",children:[(0,i.jsxs)("div",{className:"h4f9l4 h4f9l2 h4f9l1",children:[(0,i.jsx)("div",{className:"h4f9l5",children:(0,i.jsx)(_.Z,{children:(0,i.jsx)(v(),{src:k,layout:"fill",alt:"collection logo"})})}),(0,i.jsx)("div",{className:"h4f9l6",children:Z})]}),(0,i.jsx)("div",{className:p,children:(0,i.jsx)("div",{className:N,children:(0,i.jsx)(A.Z,{message:"Want to learn more about liquidations ?",link:"https://docs.zerolend.xyz/learn/liquidations"})})}),(he(a,ie)||xe(me))&&(0,i.jsx)("div",{className:p,children:(0,i.jsx)("div",{className:N,children:(0,i.jsx)(y,{disabled:Ve,formatDecimals:null!==M&&void 0!==M?M:0,value:tn().value,title:xe(me)?"you have refund":ve(a,ie)?"Your bid is #1":"Your bid is:",buttonText:xe(me)?"Claim Refund":"Cancel",onClick:function(){return nn()},unlockTime:tn().unlockTime})})}),(0,i.jsxs)("div",{className:p,children:[(0,i.jsx)("div",{className:N,children:(0,i.jsx)(x.U,{value:pe(parseFloat((0,V.fromWei)(ie.highestBid,z)),M),valueSize:"big",title:(0,i.jsxs)("span",{className:T.mv,children:["Highest bid ",(0,i.jsx)("div",{className:S.Pt})]})})}),(0,i.jsx)("div",{className:N,children:(0,i.jsx)(x.U,{title:(0,i.jsxs)("span",{className:T.mv,children:["Minimal bid ",(0,i.jsx)("div",{className:S.Pt})]}),value:pe(Me,M),valueSize:"big"})})]}),(0,i.jsx)("div",{className:p,children:(0,i.jsx)("div",{className:N,children:(0,i.jsx)(x.U,{value:pe(parseFloat(se),M),valueSize:"big",title:"Your token balance"})})}),(0,i.jsx)("div",{className:"h4f9l8",children:(0,i.jsx)(j.h,{firstInputValue:ge(Ne(ye)),secondInputValue:ge(Ne(Ae)),onChangeFirstInput:function(e){if(!e)return Ze(0),Ie(0),void we(0);Ze(e*K),Ie(e),we(e)},onChangeSecondInput:function(e){if(!e)return Ze(0),Ie(0),void we(0);Ze(e),Ie(e/K),we(e/K)},maxValue:parseFloat(se),firstInputAddon:O})}),(0,i.jsx)(b.Q,{currentValue:Se,maxValue:parseFloat(se),minAvailableValue:0,onChange:$e})]})})}),_e=(t(65153),t(22666),t(94184)),Ae=t.n(_e),Ze=t(87862),ke=g.uf.format,ye=(g.uf.formatPercent,g.uf.formatUsd,g.uf.formatERC20),Ie=function(e){var n=e.bid,t=e.underlyingPrice,r=e.unit,a=e.hasBorder,c=void 0===a||a,l=e.formatDecimals;return(0,i.jsxs)("div",{className:Ae()("gy0q4p0",(0,s.Z)({},"gy0q4p1",c)),children:[(0,i.jsxs)("div",{className:"gy0q4p4",children:[(0,i.jsxs)("div",{className:"gy0q4p2",children:[(0,i.jsx)("p",{className:"gy0q4p6",children:(0,Ze.Tg)(n.bidder)}),(0,i.jsx)("p",{className:"gy0q4p5",children:(0,g.qP)(1e3*n.unlockTimeStamp)})]}),(0,i.jsx)("div",{onClick:function(){return navigator.clipboard.writeText(n.bidder)},className:"gy0q4p3"})]}),(0,i.jsxs)("div",{className:"gy0q4p7",children:[(0,i.jsx)("p",{className:"gy0q4p8",children:ye(me(n.bid,r),l)}),(0,i.jsxs)("p",{className:"gy0q4p9",children:[ke(t*me(n.bid,r))," USD"]})]})]})},Te=function(e){var n=e.bids,t=e.underlyingPrice,s=e.unit,r=e.formatDecimals;return(0,i.jsx)(i.Fragment,{children:n&&n.map((function(e,a){return(0,i.jsx)("div",{children:(0,i.jsx)(Ie,{bid:e,underlyingPrice:t,hasBorder:a!==n.length-1,unit:s,formatDecimals:r})},a)}))})},Se=function(){var e=(0,B.Z)((function(e){return e.HERC20ContractAddr})),n=(0,P.U)(e),t=n.htokenHelperContractAddress,s=n.marketContractAddress,a=n.unit,c=n.formatDecimals,l=(0,r.Z)((0,q.fv)(t,e),2),o=l[0],u=(l[1],(0,r.Z)(Q(s,e),2)),d=u[0];u[1];return(0,i.jsx)(I.Z,{children:(0,i.jsx)("div",{className:"_1cyp9ss0",children:(0,i.jsx)(Te,{bids:de(d.bids),underlyingPrice:o,unit:a,formatDecimals:null!==c&&void 0!==c?c:0})})})},we=(t(23257),function(){var e=(0,B.Z)((function(e){return e})),n=e.HERC20ContractAddr,t=e.NFTId,s=(0,P.U)(n),a=s.htokenHelperContractAddress,c=s.marketContractAddress,l=s.unit,o=s.formatDecimals,u=(0,r.Z)((0,q.fv)(a,n),2),d=u[0],m=(u[1],(0,r.Z)(se(c,n,t),2)),h=m[0];m[1];return(0,i.jsx)(I.Z,{children:(0,i.jsx)("div",{className:"_1ogy0ga0",children:(0,i.jsx)(Te,{bids:de(h.bids),underlyingPrice:d,unit:l,formatDecimals:null!==o&&void 0!==o?o:0})})})}),Re=(t(82480),"ld636z3"),Ee="ld636z2 ld636z1",Fe=g.uf.format,Be=(g.uf.formatPercent,g.uf.formatUsd,g.uf.formatERC20),Pe=g.uf.parse,De=(g.uf.formatRoundDown,function(e){e=null!==e?e:(0,m.Z)(new TypeError("Cannot destructure undefined"));var n=(0,R.Z)((function(e){return e.setIsSidebarVisibleInMobile})),t=(0,l.useContext)(E.S).currentUser,s=(0,F.useQueryClient)(),a=(null===t||void 0===t?void 0:t.address)||"",c=(0,B.Z)((function(e){return e.HERC20ContractAddr})),o=(0,B.Z)((function(e){return e.NFTId})),u=(0,P.U)(c),f=u.marketContractAddress,N=u.htokenHelperContractAddress,p=u.ERC20ContractAddress,g=u.name,Z=u.icon,k=u.erc20Name,O=u.unit,z=u.formatDecimals,M=(0,B.Z)((function(e){return e.setWorkflow})),U=(0,r.Z)((0,q.fv)(N,c),2),H=U[0],Q=U[1],$=(0,r.Z)((0,W.aE)(p,t,O),2),Y=$[0],K=$[1],X=(0,r.Z)(se(f,c,o),2),G=X[0],ne=X[1],te=(0,r.Z)(ce(f,c,o),2),ie=te[0],oe=te[1],ue=(0,r.Z)(J(f,p,a),2),de=ue[0],me=ue[1],Ne=(0,l.useState)(0),pe=Ne[0],ge=Ne[1],Ce=(0,l.useState)(0),_e=Ce[0],Ae=Ce[1],Ze=(0,l.useState)(0),ke=Ze[0],ye=Ze[1],Ie=(0,w.Z)(),Te=Ie.toast,Se=Ie.ToastComponent,we=(0,w.Z)(),De=we.toast,qe=we.ToastComponent,We=(0,l.useState)("WAIT_FOR_APPROVAL"),Le=We[0],Oe=We[1],Ve=(0,l.useState)(!0),ze=Ve[0],Me=Ve[1],Ue=be(ie,fe(a,G,O).value,O),He=(0,r.Z)((0,W.Jw)(p,f,t,_e,O),2),Qe=He[0],$e=He[1];(0,l.useEffect)((function(){Q||K||$e||ne||oe||me?(Te.processing("Fetching bid details"),Me(!0)):(Ke(),Te.clear(0),Me(!1))}),[Q,K,$e,ne,oe,me,c,o,Qe]);var Ye=function(e){ye(e),ge(e*H),Ae(e)},Ke=function(){Qe?he(a,G)?Oe("WAIT_FOR_INCREASE_BID"):Oe("WAIT_FOR_BID"):Oe("WAIT_FOR_APPROVAL")},Xe=(0,F.useMutation)(W.l$),Ge=(0,F.useMutation)(ae),Je=(0,F.useMutation)(ee),en=(0,F.useMutation)(re),nn=(0,F.useMutation)(le),tn=function(){var e=(0,d.Z)((function(){var e,n,t;return(0,h.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,9,10,11]),De.processing(),Me(!0),xe(de)?(e={},[4,Je.mutateAsync((e.marketContractAddress=f,e.ERC20ContractAddress=p,e))]):[3,4];case 1:return r.sent(),console.log("Withdraw bid succeed"),[4,s.invalidateQueries(L.a.userBalance(a,p))];case 2:return r.sent(),[4,s.invalidateQueries(L.a.userRefund(a,p))];case 3:return r.sent(),[3,8];case 4:return n={},[4,Ge.mutateAsync((n.marketContractAddress=f,n.HERC20ContractAddress=c,n.NFTTokenId=o,n))];case 5:return r.sent(),console.log("Cancel bid succeed"),[4,s.invalidateQueries(L.a.listCollateralBids(f,c,o))];case 6:return r.sent(),[4,s.invalidateQueries(L.a.userRefund(a,p))];case 7:r.sent(),r.label=8;case 8:return De.success("Successful! Transaction complete"),[3,11];case 9:return t=r.sent(),console.error(t),De.error("Sorry! Transaction failed"),[3,11];case 10:return Me(!1),[7];case 11:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),sn=function(){return xe(de)?{value:je(de,O),unlockTime:0}:fe(a,G,O)},rn=function(){var e=(0,d.Z)((function(){var e,n,t,r;return(0,h.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,12,13,14]),De.processing(),Me(!0),"WAIT_FOR_BID"!=Le?[3,4]:(e={},[4,en.mutateAsync((e.marketContractAddress=f,e.HERC20ContractAddress=c,e.amount=Pe(Fe(_e)).toString(),e.NFTTokenId=o,e.unit=O,e))]);case 1:return i.sent(),console.log("Collateral bid succeed"),[4,s.invalidateQueries(L.a.listCollateralBids(f,c,o))];case 2:return i.sent(),[4,s.invalidateQueries(L.a.userBalance(a,p))];case 3:return i.sent(),[3,11];case 4:return"WAIT_FOR_APPROVAL"!=Le?[3,7]:(n={},[4,Xe.mutateAsync((n.ERC20ContractAddress=p,n.contractAddress=f,n))]);case 5:return i.sent(),console.log("Approval succeed"),[4,s.invalidateQueries(L.a.userApproval(a,p,f))];case 6:return i.sent(),Ye(0),[3,11];case 7:return"WAIT_FOR_INCREASE_BID"!=Le?[3,11]:(t={},[4,nn.mutateAsync((t.marketContractAddress=f,t.HERC20ContractAddress=c,t.increaseAmount=Pe(Fe(_e)).toString(),t.NFTTokenId=o,t.unit=O,t))]);case 8:return i.sent(),console.log("Increase Collateral Bid succeed"),[4,s.invalidateQueries(L.a.listCollateralBids(f,c,o))];case 9:return i.sent(),[4,s.invalidateQueries(L.a.userBalance(a,p))];case 10:i.sent(),Ye(0),i.label=11;case 11:return De.success("Successful! Transaction complete"),[3,14];case 12:return r=i.sent(),console.error(r),De.error("Sorry! Transaction failed"),[3,14];case 13:return Me(!1),[7];case 14:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),an=De.state?qe:Se;return(0,i.jsx)(I.Z,{footer:(null===Te||void 0===Te?void 0:Te.state)||De.state?an:(0,i.jsxs)("div",{className:"ld636z9",children:[(0,i.jsx)("div",{className:"ld636za",children:(0,i.jsx)(C.Z,{variant:"secondary",onClick:function(){n(!1),M(D.T_.none),document.body.classList.remove("disable-scroll")},children:"Cancel"})}),(0,i.jsx)("div",{className:"ld636zb",children:(0,i.jsx)(C.Z,{variant:"primary",disabled:"WAIT_FOR_BID"==Le?Pe(Fe(_e))<Ue:"WAIT_FOR_INCREASE_BID"==Le&&Pe(Fe(_e))+fe(a,G,O).value<Ue,isFluid:!0,onClick:rn,children:(0,i.jsx)(i.Fragment,{children:"WAIT_FOR_APPROVAL"==Le?"Approve":"WAIT_FOR_INCREASE_BID"==Le?"Increase Bid":"Place Bid"})})})]}),children:(0,i.jsxs)("div",{className:"ld636z0",children:[(0,i.jsxs)("div",{className:"ld636z4 ld636z2 ld636z1",children:[(0,i.jsx)("div",{className:"ld636z5",children:(0,i.jsx)(_.Z,{children:(0,i.jsx)(v(),{src:Z,layout:"fill",alt:"collection logo"})})}),(0,i.jsx)("div",{className:"ld636z6",children:g})]}),(0,i.jsx)("div",{className:Ee,children:(0,i.jsx)("div",{className:Re,children:(0,i.jsx)(A.Z,{message:"Want to learn more about liquidations ?",link:"https://docs.zerolend.xyz/learn/liquidations"})})}),(he(a,G)||xe(de))&&(0,i.jsx)("div",{className:Ee,children:(0,i.jsx)("div",{className:Re,children:(0,i.jsx)(y,{disabled:ze,formatDecimals:null!==z&&void 0!==z?z:0,value:sn().value,title:xe(de)?"you have refund":ve(a,G)?"Your bid is #1":"Your bid is:",buttonText:xe(de)?"Claim Refund":"Cancel",onClick:function(){return tn()},unlockTime:sn().unlockTime})})}),(0,i.jsxs)("div",{className:Ee,children:[(0,i.jsx)("div",{className:Re,children:(0,i.jsx)(x.U,{value:Be(parseFloat((0,V.fromWei)(G.highestBid,O)),z),valueSize:"big",title:(0,i.jsxs)("span",{className:T.mv,children:["Highest bid ",(0,i.jsx)("div",{className:S.Pt})]})})}),(0,i.jsx)("div",{className:Re,children:(0,i.jsx)(x.U,{title:(0,i.jsxs)("span",{className:T.mv,children:["Minimal bid ",(0,i.jsx)("div",{className:S.Pt})]}),value:Be(Ue,z),valueSize:"big"})})]}),(0,i.jsx)("div",{className:Ee,children:(0,i.jsx)("div",{className:Re,children:(0,i.jsx)(x.U,{value:Be(parseFloat(Y),z),valueSize:"big",title:"Your token balance"})})}),(0,i.jsx)("div",{className:"ld636z8",children:(0,i.jsx)(j.h,{firstInputValue:Pe(Fe(_e)),secondInputValue:Pe(Fe(pe)),onChangeFirstInput:function(e){if(!e)return ge(0),Ae(0),void ye(0);ge(e*H),Ae(e),ye(e)},onChangeSecondInput:function(e){if(!e)return ge(0),Ae(0),void ye(0);ge(e),Ae(e/H),ye(e/H)},maxValue:parseFloat(Y),firstInputAddon:k})}),(0,i.jsx)(b.Q,{currentValue:ke,maxValue:parseFloat(Y),minAvailableValue:0,onChange:Ye})]})})}),qe=t(37982),We=function(e){(0,R.Z)((function(e){return e.setIsSidebarVisibleInMobile}));var n=(0,B.Z)((function(e){return e.workflow})),t=(0,l.useState)("bid"),s=t[0],r=t[1],a=[{label:"Place a bid",key:"bid"},{label:"Current bids",key:"current",disabled:Boolean(n==D.T_.none)}],c=(0,qe.We)().openConnectModal,d=(0,l.useContext)(E.S).currentUser;return(0,i.jsx)("div",{className:"_19duahi0 _1c1tagj1",children:(0,i.jsx)(o.Z,{activeKey:s,onTabChange:function(e){r(e)},items:a,active:!0,children:d?n==D.T_.collateralBid&&"bid"===s?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(De,{})}):n==D.T_.collectionBid&&"bid"===s?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(Ce,{})}):n==D.T_.collectionBid&&"current"===s?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(Se,{})}):n==D.T_.collateralBid&&"current"===s?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(we,{})}):(0,i.jsx)(u.Z,{icon:(0,i.jsx)("div",{className:"_19duahi2"}),title:"Manage panel",description:"First, choose a NFT collection"}):(0,i.jsx)(u.Z,{icon:(0,i.jsx)("div",{className:"_19duahi3"}),title:"You didn\u2019t connect any wallet yet",description:"First, choose a NFT collection",buttons:[{title:"CONNECT WALLET",onClick:c}]})})})},Le=t(36513),Oe=t(68944),Ve=t(23279),ze=t.n(Ve),Me=t(69160),Ue=t(89389),He=t(98243),Qe=(t(279),"_105czgg0"),$e="_105czgg3",Ye="_105czgg1",Ke=t(2886),Xe=t(62986),Ge=t(11382),Je=(g.uf.formatPercent,g.uf.formatERC20),en=function(e){var n=e.data,t=e.isLoadingPositions,s=e.formatDecimals,r=(0,B.Z)((function(e){return e})),a=r.setWorkflow,c=r.setNFTId,o=r.setCouponId,u=(0,R.Z)((function(e){return e.setIsSidebarVisibleInMobile})),d=(0,l.useContext)(E.S),m=d.currentUser,h=(d.setCurrentUser,(0,l.useState)("most_critical")),f=h[0],j=h[1],b=(0,l.useMemo)((function(){return[{width:250,dataIndex:["name","image","tokenId","healthLvl"],key:"tokenId",sortOrder:"most_critical"===f?"descend":void 0,sorter:function(e,n){return n.healthLvl-e.healthLvl},render:function(e,n){return(0,i.jsxs)("div",{className:Oe.VP,children:[(0,i.jsx)("div",{className:Oe.Nb}),(0,i.jsx)("div",{className:Oe.ze,children:(0,i.jsx)(_.Z,{children:(0,i.jsx)(v(),{src:n.image,layout:"fill",alt:"collection logo"})})}),(0,i.jsxs)("div",{className:Oe.Vc,children:[(0,i.jsx)(Z.Z,{label:n.name,children:(0,i.jsx)("div",{className:Oe.ki,children:"".concat(n.name," #").concat(n.tokenId)})}),(0,i.jsx)(Ke.Z,{healthLvl:n.healthLvl})]})]})}},{dataIndex:"untilLiquidation",render:function(e){return(0,i.jsx)("div",{className:Oe.q9,children:(0,i.jsx)(x.U,{title:"Until liquidation:",value:Je(e,s)})})}},{dataIndex:"debt",sortOrder:"max_debt"===f?"descend":void 0,sorter:function(e,n){return e.debt-n.debt},render:function(e){return(0,i.jsx)("div",{className:Oe.q9,children:(0,i.jsx)(x.U,{title:"Debt:",value:Je(e,s)})})}},{dataIndex:"estimatedValue",sortOrder:"most_valuable"===f?"descend":void 0,sorter:function(e,n){return e.estimatedValue-n.estimatedValue},render:function(e){return(0,i.jsx)("div",{className:Oe.q9,children:(0,i.jsx)(x.U,{title:"Floor price:",value:Je(e,s)})})}},{dataIndex:["tokenId","couponId"],key:"tokenId",title:"",render:function(e,n){return(0,i.jsx)("div",{className:Oe.ts,children:(0,i.jsxs)(C.Z,{variant:"text",onClick:function(e){return t=n.tokenId,s=n.couponId,a(D.T_.none),c(t),o(s),a(D.T_.collateralBid),u(!0),void document.body.classList.add("disable-scroll");var t,s},children:["Bid ",(0,i.jsx)("div",{className:Oe.$8})]})})}}]}),[f]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:Qe,children:[(0,i.jsxs)("div",{className:Ye,children:[(0,i.jsx)("span",{className:"_105czgg2",children:"Open positions"}),(0,i.jsx)("span",{className:$e,children:n.length})]}),(0,i.jsx)(He.c,{items:[{name:"most critical",slug:"most_critical"},{name:"Maximum debt",slug:"max_debt"},{name:"most valuable",slug:"most_valuable"}],activeItemSlug:f,onClick:function(e){return j(e)}})]}),(0,i.jsx)(Le.Z,{tableLayout:"fixed",className:Oe.cm,columns:b,dataSource:n,pagination:!1,showHeader:!1,locale:{emptyText:t?(0,i.jsx)("div",{className:Ae()(Oe.$C,T.lY),children:(0,i.jsx)(Ge.Z,{})}):(0,i.jsx)(Xe.Z,{image:Xe.Z.PRESENTED_IMAGE_SIMPLE,description:(null===m||void 0===m?void 0:m.address)?"No loan positions":"Connect wallet"})}})]})},nn=t(23962),tn=t(43706),sn=t(50894),rn=t(30871),an=t(43468),cn=(g.uf.formatPercent,g.uf.formatERC20),ln=function(e){var n=e.data,t=e.isLoadingPositions,s=e.onBidCollection,r=e.formatDecimals,a=(0,B.Z)((function(e){return e})),c=a.setWorkflow,o=a.setNFTId,u=a.setCouponId,d=(0,l.useContext)(E.S),m=d.currentUser,h=(d.setCurrentUser,(0,R.Z)((function(e){return e.setIsSidebarVisibleInMobile}))),f=[{dataIndex:["name","image","tokenId","healthLvl"],key:"tokenId",sortOrder:"descend",sorter:function(e,n){return n.healthLvl-e.healthLvl},render:function(e,n){return(0,i.jsxs)("div",{className:Oe.VP,children:[(0,i.jsx)("div",{className:Oe.Nb}),(0,i.jsx)("div",{className:Oe.ze,children:(0,i.jsx)(_.Z,{children:(0,i.jsx)(v(),{src:n.image,layout:"fill",alt:"collection logo"})})}),(0,i.jsxs)("div",{className:Oe.Vc,children:[(0,i.jsx)("div",{className:Oe.XP,children:n.name}),(0,i.jsx)(Ke.Z,{healthLvl:n.healthLvl})]})]})}},{dataIndex:"untilLiquidation",render:function(e){return(0,i.jsx)("div",{className:Oe.q9,children:(0,i.jsx)(x.U,{title:"Until liquidation:",value:cn(e,r)})})}},{dataIndex:["tokenId","couponId"],key:"tokenId",title:"",render:function(e,n){return(0,i.jsx)("div",{className:Oe.ts,children:(0,i.jsxs)(C.Z,{variant:"text",onClick:function(e){return t=n.tokenId,s=n.couponId,c(D.T_.none),o(t),u(s),c(D.T_.collateralBid),h(!0),void document.body.classList.add("disable-scroll");var t,s},children:["Bid ",(0,i.jsx)("div",{className:Oe.$8})]})})}}];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:Qe,children:[(0,i.jsxs)("div",{className:Ye,children:[(0,i.jsx)("span",{className:"_105czgg4",children:"Open positions"}),(0,i.jsx)("span",{className:$e,children:n.length})]}),(0,i.jsxs)(C.Z,{variant:"text",onClick:function(){return s()},children:["Collection Bid ",(0,i.jsx)("div",{className:Oe.nj})]})]}),(0,i.jsx)(Le.Z,{className:Oe.cm,columns:f,dataSource:n,pagination:!1,showHeader:!1,locale:{emptyText:t?(0,i.jsx)("div",{className:Ae()(Oe.$C,T.lY),children:(0,i.jsx)(Ge.Z,{})}):(0,i.jsx)(Xe.Z,{image:Xe.Z.PRESENTED_IMAGE_SIMPLE,description:(null===m||void 0===m?void 0:m.address)?"No loan positions":"Connect wallet"})}})]})},on=t(69931),un=t(95678),dn=g.uf.formatPercent,mn=g.uf.formatERC20,hn=(g.uf.formatRoundDown,function(){var e=(0,R.Z)((function(e){return e.isSidebarVisibleInMobile})),n=(0,R.Z)((function(e){return e.setIsSidebarVisibleInMobile})),t=(0,l.useContext)(E.S),o=t.currentUser,d=(t.setCurrentUser,(0,l.useState)([])),m=d[0],h=d[1],f=(0,l.useState)([]),x=f[0],j=f[1],b=(0,l.useState)([]),N=b[0],p=b[1],g=(0,l.useState)(!1),A=g[0],Z=(g[1],(0,B.Z)((function(e){return e}))),k=Z.HERC20ContractAddr,y=Z.setHERC20ContractAddr,I=Z.setWorkflow,S=Z.setNFTId,w=Z.setCouponId,F=(0,P.U)(k),q=F.htokenHelperContractAddress,W=F.hivemindContractAddress,L=F.unit,O=F.formatDecimals,V=(0,r.Z)((0,on.tF)(o,un.s,q),2),z=V[0],M=V[1];(0,l.useEffect)((function(){h(z),j(z)}),[M]);var U=(0,r.Z)((0,on.Wr)(q,W,k,L),2),H=U[0],Q=U[1],$=(0,l.useState)(""),Y=$[0],K=$[1],X=(0,l.useCallback)(ze()((function(e){var n;j((n=e)?(0,a.Z)(m).filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})):(0,a.Z)(m))}),500),[m]),G=(0,l.useCallback)((function(e){var n=e.target.value;K(n),X(n)}),[m]),J=function(e){I(D.T_.none),y(e),S(""),w(""),I(D.T_.collectionBid),n(!0),document.body.classList.add("disable-scroll")},ee=(0,l.useCallback)((function(){return(0,i.jsx)(Me.Z,{value:Y,onChange:G,placeholder:"Search by name"})}),[Y]),ne=[200,100,150,150,100,70],te=(0,l.useMemo)((function(){return[{width:ne[0],title:ee,dataIndex:["name","icon","erc20Icon"],key:"name",render:function(e,n){return(0,i.jsxs)("div",{className:Oe.Xp,children:[(0,i.jsxs)("div",{className:Oe.XE,children:[(0,i.jsx)("div",{className:Oe.ze,children:(0,i.jsx)(_.Z,{children:(0,i.jsx)(v(),{src:n.icon,layout:"fill",alt:"nft icon"})})}),(0,i.jsx)("div",{className:Ae()(Oe.ze,Oe.Ae),children:(0,i.jsx)(_.Z,{children:(0,i.jsx)(v(),{src:n.erc20Icon,layout:"fill",alt:"nft icon"})})})]}),(0,i.jsx)("div",{className:Oe.ki,children:n.name})]})}},{width:ne[2],title:function(e){var n=e.sortColumns,t=(0,Ue.N)(n,"liqThreshold");return(0,i.jsxs)("div",{className:Oe.oU["disabled"===t?"disabled":"active"],children:[(0,i.jsx)("span",{children:"Liq %"}),(0,i.jsx)("div",{className:Oe.F[t]})]})},dataIndex:"liqThreshold",sorter:function(e,n){return e.liqThreshold-n.liqThreshold},render:function(e){return(0,i.jsx)("div",{className:Oe.r7,children:dn(100*e,2)})}},{width:ne[3],title:function(e){var n=e.sortColumns,t=(0,Ue.N)(n,"totalDebt");return(0,i.jsxs)("div",{className:Oe.oU["disabled"===t?"disabled":"active"],children:[(0,i.jsx)("span",{children:"Total Debt"}),(0,i.jsx)("div",{className:Oe.F[t]})]})},dataIndex:"totalDebt",sorter:function(e,n){return e.totalDebt-n.totalDebt},render:function(e,n){return(0,i.jsx)("div",{className:Oe.qe,children:mn(e,n.formatDecimals)})}},{width:ne[4],title:function(e){var n=e.sortColumns,t=(0,Ue.N)(n,"tvl");return(0,i.jsxs)("div",{className:Oe.oU["disabled"===t?"disabled":"active"],children:[(0,i.jsx)("span",{children:"TVL"}),(0,i.jsx)("div",{className:Oe.F[t]})]})},dataIndex:"tvl",sorter:function(e,n){return e.tvl-n.tvl},render:function(e,n){return(0,i.jsx)("div",{className:Oe._E,children:mn(e,n.formatDecimals)})}},{width:ne[5],render:function(e,n){return(0,i.jsx)("div",{className:Oe.ts,children:(0,i.jsxs)(C.Z,{variant:"text",children:["View ",(0,i.jsx)("div",{className:Oe.V8})]})})}}]}),[A,m,Y]),se=(0,l.useMemo)((function(){return[{width:ne[0],dataIndex:["name","icon","erc20Icon"],key:"name",render:function(e,n){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(an.Z,{leftSide:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:Oe.XE,children:[(0,i.jsx)("div",{className:Oe.ze,children:(0,i.jsx)(_.Z,{children:(0,i.jsx)(v(),{src:n.icon,layout:"fill",alt:"nft icon"})})}),(0,i.jsx)("div",{className:Ae()(Oe.ze,Oe.Ae),children:(0,i.jsx)(_.Z,{children:(0,i.jsx)(v(),{src:n.erc20Icon,layout:"fill",alt:"nft icon"})})})]}),(0,i.jsx)("div",{className:Oe.sk,children:(0,i.jsx)("div",{className:Oe.ki,children:n.name})})]}),rightSide:(0,i.jsx)("div",{className:Oe.ts,children:(0,i.jsxs)(C.Z,{variant:"text",onClick:function(){N.length&&N[0]===n.key?p([]):p([n.key])},children:[N.length&&N[0]===n.key?"Hide":"View",(0,i.jsx)("div",{className:Oe.V8})]})})}),(0,i.jsxs)(rn.Z,{children:[(0,i.jsx)("div",{className:Oe.r7,children:dn(100*n.liqThreshold,2)}),(0,i.jsx)("div",{className:Oe.r7,children:mn(n.totalDebt,O)}),(0,i.jsx)("div",{className:Oe.qe,children:mn(n.tvl,O)})]})]})}}]}),[A,m,Y,N]);return(0,i.jsx)(c.Z,{children:(0,i.jsxs)(tn.Z,{sidebar:(0,i.jsx)(nn.Z,{isMobileSidebarVisible:e,children:(0,i.jsx)(We,{})}),children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(sn.Z.Title,{className:T.tj,children:"Liquidation"}),(0,i.jsxs)(sn.Z.Text,{className:T._e,children:["Bid on discounted NFTs from borrowers"," "]})]}),(0,i.jsx)("div",{className:Oe.b$,children:(0,i.jsx)(Le.Z,{hasRowsShadow:!0,tableLayout:"fixed",columns:te,dataSource:x,pagination:!1,className:Ae()(Oe.Kz,(0,s.Z)({},Oe.ES,!x.length)),expandable:{showExpandColumn:!1,onExpand:function(e,n){J(n.key),p(e?[n.key]:[])},expandedRowKeys:N,expandedRowRender:function(e){return(0,i.jsxs)("div",{className:Oe.s0,children:[(0,i.jsx)("div",{className:Oe.Wl}),(0,i.jsx)(en,{data:H,isLoadingPositions:Q,formatDecimals:e.formatDecimals})]})}}})}),(0,i.jsxs)("div",{className:Oe.yr,children:[(0,i.jsx)("div",{className:Ae()(Oe.jn),children:(0,i.jsx)("div",{className:Ae()(Oe.OU,Oe.SV),children:(0,i.jsx)(Me.Z,{onChange:G,placeholder:"Search by name",value:Y})})}),(0,i.jsxs)("div",{className:Oe.WN,children:[(0,i.jsx)("div",{className:Oe.K5,children:"LIQ %"}),(0,i.jsx)("div",{className:Oe.K5,children:"Debt"}),(0,i.jsx)("div",{className:Oe.K5,children:"TVL"})]}),(0,i.jsx)(Le.Z,{hasRowsShadow:!0,tableLayout:"fixed",columns:se,dataSource:x,pagination:!1,showHeader:!1,className:Ae()(Oe.Kz,(0,s.Z)({},Oe.ES,!x.length)),expandable:{showExpandColumn:!1,onExpand:function(e,n){p(e?[n.key]:[])},expandedRowKeys:N,expandedRowRender:function(e){return(0,i.jsxs)("div",{className:Oe.s0,children:[(0,i.jsx)("div",{className:Oe.Wl}),(0,i.jsx)(ln,{data:H,isLoadingPositions:Q,formatDecimals:e.formatDecimals,onBidCollection:function(){return J(e.key)}})]})}}})]}),!x.length&&(A?(0,i.jsx)("div",{className:Oe.EG,children:(0,i.jsx)(u.Z,{icon:(0,i.jsx)("div",{className:Oe.Vi}),title:"You didn\u2019t use any collections yet",description:"Turn off the filter my collection and choose any collection to borrow tokens"})}):(0,i.jsx)("div",{className:Oe.EG,children:(0,i.jsx)(u.Z,{icon:(0,i.jsx)("div",{className:Oe.Vi}),title:"No collections to display",description:"Turn off all filters and clear search inputs"})}))]})})})},82480:function(){},56408:function(){},22666:function(){},65153:function(){},41219:function(){},80182:function(){},70754:function(){},76174:function(){},279:function(){},70217:function(){},23257:function(){}},function(e){e.O(0,[5270,5586,9277,2182,4035,1934,9774,2888,179],(function(){return n=82099,e(e.s=n);var n}));var n=e.O();_N_E=n}]);