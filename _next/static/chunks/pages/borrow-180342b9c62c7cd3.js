(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1259],{60645:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/borrow",function(){return s(5769)}])},2886:function(e,n,s){"use strict";s.d(n,{Z:function(){return o}});var a,i=s(85893),l=(s(67294),s(22497),s(80182),"bsjpo10"),t="bsjpo11",c="bsjpo12",r="bsjpo13",d="bsjpo14";!function(e){e[e.Safe=100]="Safe",e[e.Warning=70]="Warning",e[e.Danger=40]="Danger",e[e.Min=0]="Min"}(a||(a={}));var o=function(e){var n=e.healthLvl;return(0,i.jsx)(i.Fragment,{children:n&&function(e){return e>a.Warning&&e<=a.Safe?(0,i.jsxs)("div",{className:l,children:[(0,i.jsx)("span",{className:d,children:"".concat(e.toFixed(),"%")})," ",(0,i.jsx)("span",{className:r,children:"Health"})]}):e<=a.Warning&&e>a.Danger?(0,i.jsxs)("div",{className:t,children:[(0,i.jsx)("span",{className:d,children:"".concat(e.toFixed(),"%")})," ",(0,i.jsx)("span",{className:r,children:"Health"})]}):e<=a.Danger&&e>a.Min?(0,i.jsxs)("div",{className:c,children:[(0,i.jsx)("span",{className:d,children:"".concat(e.toFixed(),"%")})," ",(0,i.jsx)("span",{className:r,children:"Health"})]}):(0,i.jsx)("div",{className:d,children:"0"})}(n)})}},62731:function(e,n,s){"use strict";s.d(n,{Z:function(){return g}});var a=s(26042),i=s(69396),l=s(99534),t=s(85893),c=s(87462),r=s(4942),d=s(50888),o=s(94184),u=s.n(o),h=s(97685),x=s(91),m=s(67294),j=s(21770),v=s(15105),f=m.forwardRef((function(e,n){var s,a=e.prefixCls,i=void 0===a?"rc-switch":a,l=e.className,t=e.checked,c=e.defaultChecked,d=e.disabled,o=e.loadingIcon,f=e.checkedChildren,N=e.unCheckedChildren,p=e.onClick,b=e.onChange,Z=e.onKeyDown,w=(0,x.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),k=(0,j.Z)(!1,{value:t,defaultValue:c}),y=(0,h.Z)(k,2),C=y[0],g=y[1];function I(e,n){var s=C;return d||(g(s=e),null===b||void 0===b||b(s,n)),s}var E=u()(i,l,(s={},(0,r.Z)(s,"".concat(i,"-checked"),C),(0,r.Z)(s,"".concat(i,"-disabled"),d),s));return m.createElement("button",Object.assign({},w,{type:"button",role:"switch","aria-checked":C,disabled:d,className:E,ref:n,onKeyDown:function(e){e.which===v.Z.LEFT?I(!1,e):e.which===v.Z.RIGHT&&I(!0,e),null===Z||void 0===Z||Z(e)},onClick:function(e){var n=I(!C,e);null===p||void 0===p||p(n,e)}}),o,m.createElement("span",{className:"".concat(i,"-inner")},C?f:N))}));f.displayName="Switch";var N=f,p=s(53124),b=s(98866),Z=s(97647),w=s(68349),k=function(e,n){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(s[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)n.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(s[a[i]]=e[a[i]])}return s},y=m.forwardRef((function(e,n){var s,a=e.prefixCls,i=e.size,l=e.disabled,t=e.loading,o=e.className,h=void 0===o?"":o,x=k(e,["prefixCls","size","disabled","loading","className"]),j=m.useContext(p.E_),v=j.getPrefixCls,f=j.direction,y=m.useContext(Z.Z),C=m.useContext(b.Z),g=(null!==l&&void 0!==l?l:C)||t,I=v("switch",a),E=m.createElement("div",{className:"".concat(I,"-handle")},t&&m.createElement(d.Z,{className:"".concat(I,"-loading-icon")})),S=u()((s={},(0,r.Z)(s,"".concat(I,"-small"),"small"===(i||y)),(0,r.Z)(s,"".concat(I,"-loading"),t),(0,r.Z)(s,"".concat(I,"-rtl"),"rtl"===f),s),h);return m.createElement(w.Z,{insertExtraNode:!0},m.createElement(N,(0,c.Z)({},x,{prefixCls:I,className:S,disabled:g,ref:n,loadingIcon:E})))}));y.__ANT_SWITCH=!0;var C=y,g=(s(22497),s(80596),function(e){var n=e.className,s=(0,l.Z)(e,["className"]);return(0,t.jsx)(C,(0,i.Z)((0,a.Z)({},s),{size:"small",className:u()("_17kzd6o0",n)}))})},5769:function(e,n,s){"use strict";s.r(n);var a=s(14924),i=s(828),l=s(36305),t=s(85893),c=s(20642),r=s(36513),d=s(68944),o=s(71530),u=s(67294),h=s(96486),x=s.n(h),m=s(69160),j=s(25675),v=s.n(j),f=s(99505),N=s(62731),p=s(94184),b=s.n(p),Z=s(26295),w=s(89389),k=s(16086),y=s(10631),C=s(84709),g=s(43468),I=s(30871),E=s(64678),S=s(23748),_=s(50894),R=s(62986),F=s(11382),T=s(70751),L=s(43706),z=s(56242),O=s(17248),P=s(69931),D=s(95678),V=s(23962),A=s(28424),M=s(99562),U=s(1863),W=s(32292),H=s(2886),K=s(69077),q=C.uf.formatPercent,Y=C.uf.formatERC20;n.default=function(){var e=(0,u.useContext)(O.S),n=e.currentUser,s=(e.setCurrentUser,(0,u.useState)(!0)),h=s[0],j=s[1],p=(0,u.useState)([]),C=p[0],$=p[1],G=(0,u.useState)(!1),X=G[0],B=(G[1],(0,u.useState)([])),J=B[0],Q=B[1],ee=(0,o.Z)((function(e){return e})),ne=ee.HERC20ContractAddr,se=ee.setHERC20ContractAddr,ae=ee.setWorkflow,ie=ee.setNFTId,le=ee.setCouponId,te=(0,U.Z)((function(e){return e.isSidebarVisibleInMobile})),ce=(0,U.Z)((function(e){return e.setIsSidebarVisibleInMobile})),re=(0,k.Z)().width,de=(0,W.U)(ne),oe=de.htokenHelperContractAddress,ue=de.hivemindContractAddress,he=de.nftContractAddress,xe=de.unit,me=de.formatDecimals,je=(0,K.LN)().chain,ve=(0,i.Z)((0,P.AD)(n,D.s,oe),2),fe=ve[0],Ne=ve[1];(0,u.useEffect)((function(){$(fe),Ie(fe)}),[Ne]);var pe=(0,i.Z)((0,P.$J)(oe,ne,he,ue,n,xe),2),be=pe[0],Ze=pe[1],we=(0,u.useState)(""),ke=we[0],ye=we[1],Ce=(0,u.useState)([]),ge=Ce[0],Ie=Ce[1],Ee=(0,u.useCallback)(x().debounce((function(e){var n;Ie((n=e)?(0,l.Z)(C).filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})):(0,l.Z)(C))}),500),[C]),Se=(0,u.useCallback)((function(e){var n=e.target.value;ye(n),Ee(n)}),[C]),_e=function(){ae(A.yp.depositNFT),ce(!0),document.body.classList.add("disable-scroll")},Re=function(e,n){ie(e),le(n),ae(A.yp.loanOrBorrow),ce(!0),document.body.classList.add("disable-scroll")},Fe=function(){return(0,t.jsx)("div",{className:d.oU.disabled,children:(0,t.jsxs)(S.Z,{direction:"horizontal",children:[(0,t.jsx)(N.Z,{onChange:function(e){return j(e)},title:"Weekly",checked:h})," ","WEEKLY"]})})},Te=(0,u.useCallback)((function(){return(0,t.jsx)(m.Z,{value:ke,onChange:Se,placeholder:"Search by name"})}),[ke]),Le=[240,150,150,150,150],ze=(0,u.useMemo)((function(){return[{width:Le[0],title:Te,dataIndex:["name","icon","erc20Icon"],key:"name",render:function(e,n){return(0,t.jsxs)("div",{className:d.Xp,children:[(0,t.jsxs)("div",{className:d.XE,children:[(0,t.jsx)("div",{className:d.ze,children:(0,t.jsx)(Z.Z,{children:(0,t.jsx)(v(),{src:n.icon,layout:"fill",alt:"nft icon"})})}),(0,t.jsx)("div",{className:b()(d.ze,d.Ae),children:(0,t.jsx)(Z.Z,{children:(0,t.jsx)(v(),{src:n.erc20Icon,layout:"fill",alt:"nft icon"})})})]}),(0,t.jsx)("div",{className:d.ki,children:n.name})]})}},{width:Le[1],title:function(e){var n=e.sortColumns,s=(0,w.N)(n,"rate");return(0,t.jsxs)("div",{className:d.oU["disabled"===s?"disabled":"active"],children:[h?(0,t.jsx)("span",{children:"Weekly Rate"}):(0,t.jsx)("span",{children:"Yearly Rate"}),(0,t.jsx)("div",{className:d.F[s]})]})},dataIndex:"borrowRate",hidden:re<y.I,sorter:function(e,n){return e.borrowRate-n.borrowRate},render:function(e,n){return(0,t.jsx)("div",{className:b()(d.r7,d._l),children:q(e/(h?52:1),h?3:2)})}},{width:Le[3],title:function(e){var n=e.sortColumns,s=(0,w.N)(n,"value");return(0,t.jsxs)("div",{className:d.oU["disabled"===s?"disabled":"active"],children:[(0,t.jsx)("span",{children:"SUPPLIED"}),(0,t.jsx)("div",{className:d.F[s]})]})},dataIndex:"supplied",sorter:function(e,n){return e.supplied-n.supplied},render:function(e,n){return(0,t.jsx)("div",{className:d._E,children:Y(e,n.formatDecimals)})}},{width:Le[2],title:function(e){var n=e.sortColumns,s=(0,w.N)(n,"available");return(0,t.jsxs)("div",{className:d.oU["disabled"===s?"disabled":"active"],children:[(0,t.jsx)("span",{children:"Available"}),(0,t.jsx)("div",{className:d.F[s]})]})},dataIndex:"available",hidden:re<y.I,sorter:function(e,n){return e.available-n.available},render:function(e,n){return(0,t.jsx)("div",{className:d.qe,children:Y(e,n.formatDecimals)})}},{width:Le[4],title:Fe,render:function(e,n){return(0,t.jsx)("div",{className:d.ts,children:(0,t.jsxs)(f.Z,{variant:"text",children:["View ",(0,t.jsx)("div",{className:d.V8})]})})}}].filter((function(e){return!e.hidden}))}),[X,C,ke,re,h]),Oe=(0,u.useMemo)((function(){return[{width:Le[0],dataIndex:["name","icon","erc20Icon"],key:"name",render:function(e,n){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.Z,{leftSide:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:d.XE,children:[(0,t.jsx)("div",{className:d.ze,children:(0,t.jsx)(Z.Z,{children:(0,t.jsx)(v(),{src:n.icon,layout:"fill",alt:"nft icon"})})}),(0,t.jsx)("div",{className:b()(d.ze,d.Ae),children:(0,t.jsx)(Z.Z,{children:(0,t.jsx)(v(),{src:n.erc20Icon,layout:"fill",alt:"nft icon"})})})]}),(0,t.jsx)("div",{className:d.sk,children:(0,t.jsx)("div",{className:d.ki,children:n.name})})]}),rightSide:(0,t.jsx)("div",{className:d.ts,children:(0,t.jsxs)(f.Z,{variant:"text",children:["View ",(0,t.jsx)("div",{className:d.V8})]})})}),(0,t.jsxs)(I.Z,{children:[(0,t.jsx)("div",{className:b()(d.r7,d._l),children:q(n.borrowRate/(h?52:1),h?3:2)}),(0,t.jsx)("div",{className:d.qe,children:Y(n.supplied)}),(0,t.jsx)("div",{className:d.qe,children:Y(n.available)})]})]})}}]}),[X,C,ke,h]),Pe=[{dataIndex:["name","image","tokenId"],key:"tokenId",width:Le[0],render:function(e,n){return(0,t.jsxs)("div",{className:d.VP,children:[(0,t.jsx)("div",{className:d.Nb}),(0,t.jsx)("div",{className:d.ze,children:(0,t.jsx)(Z.Z,{children:(0,t.jsx)(v(),{src:n.image,layout:"fill",alt:"nft icon"})})}),(0,t.jsxs)("div",{className:d.Vc,children:[(0,t.jsx)("div",{className:d.ki,children:"".concat(n.name," #").concat(n.tokenId)}),(0,t.jsx)(H.Z,{healthLvl:n.healthLvl})]})]})}},{dataIndex:"debt",width:Le[1],render:function(e){return(0,t.jsx)("div",{className:d.q9,children:(0,t.jsx)(E.U,{title:"Debt:",value:Y(e,me)})})}},{dataIndex:"allowance",width:Le[2],render:function(e){return(0,t.jsx)("div",{className:d.q9,children:(0,t.jsx)(E.U,{title:"Allowance:",value:Y(e,me)})})}},{dataIndex:"value",width:Le[3],render:function(e){return(0,t.jsx)("div",{className:d.q9,children:(0,t.jsx)(E.U,{title:"Floor price:",value:Y(e,me)})})}},{dataIndex:["tokenId","couponId"],key:"tokenId",width:Le[4],title:"",render:function(e,n){return(0,t.jsx)("div",{className:d.ts,children:(0,t.jsxs)(f.Z,{variant:"text",onClick:function(e){return Re(n.tokenId,n.couponId)},children:["Manage ",(0,t.jsx)("div",{className:d.$8})]})})}}],De=[{dataIndex:["name","image","tokenId"],key:"tokenId",render:function(e,n){return(0,t.jsxs)("div",{className:d.VP,children:[(0,t.jsx)("div",{className:d.Nb}),(0,t.jsx)("div",{className:d.ze,children:(0,t.jsx)(Z.Z,{children:(0,t.jsx)(v(),{src:n.image,layout:"fill",alt:"nft icon"})})}),(0,t.jsxs)("div",{className:d.Vc,children:[(0,t.jsx)("div",{className:d.ki,children:"".concat(n.name," #").concat(n.tokenId)}),(0,t.jsx)(H.Z,{healthLvl:n.healthLvl||0})]})]})}},{dataIndex:["tokenId","couponId"],key:"tokenId",title:"",width:"50px",render:function(e,n){return(0,t.jsx)("div",{className:b()(d.q9,d.ts),children:(0,t.jsxs)(f.Z,{variant:"text",onClick:function(e){return Re(n.tokenId,n.couponId)},children:["Manage",(0,t.jsx)("div",{className:d.$8})]})})}}],Ve=function(){return(0,t.jsxs)("div",{className:d.kE,children:[(0,t.jsxs)("div",{className:d.Np,children:[(0,t.jsx)("div",{className:d.Nb}),(0,t.jsx)("div",{className:d.ze,children:(0,t.jsx)(Z.Z,{variant:"gray",children:(0,t.jsx)("div",{className:d.se})})}),(0,t.jsxs)("div",{className:d.Wd,children:[(0,t.jsx)("span",{className:d.L9,children:be.length?"You can add more NFTs to this market":"Create positions by selecting an NFT from this collection"}),(0,t.jsx)("span",{className:d.i,children:"Choose ".concat(be.length?"another":""," NFT from same collection")})]})]}),(0,t.jsx)("div",{className:d.dh,children:(0,t.jsxs)(f.Z,{onClick:_e,className:d.O$,variant:"secondary",isFluid:re<y.I,children:[(0,t.jsx)("div",{className:d.cU}),"\n\t\t\t\t\tChoose ".concat(be.length?"another":"YOUR"," NFT")]})})]})};return(0,t.jsx)(c.Z,{children:(0,t.jsxs)(L.Z,{sidebar:(0,t.jsx)(V.Z,{isMobileSidebarVisible:te,children:(0,t.jsx)(M.Z,{})}),children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(_.Z.Title,{className:T.tj,children:"Borrow"}),(0,t.jsxs)(_.Z.Text,{className:T._e,children:["Get instant liquidity using your NFTs as collateral.","   ",(0,t.jsx)("span",{style:{marginLeft:"5px"},children:"arbitrum"===(null===je||void 0===je?void 0:je.network)&&(0,t.jsx)("a",{target:"_blank",href:"https://bridge.zksync.io/",rel:"noreferrer",children:(0,t.jsx)(f.Z,{style:{display:"inline"},variant:"text",children:"Bridge to zkSync"})})})]})]}),(0,t.jsx)("div",{className:d.b$,children:(0,t.jsx)(r.Z,{hasRowsShadow:!0,tableLayout:"fixed",columns:ze,dataSource:ge,pagination:!1,className:b()(d.Kz,(0,a.Z)({},d.ES,!ge.length)),expandable:{showExpandColumn:!1,onExpand:function(e,n){ae(A.yp.none),se(n.key),Q(e?[n.key]:[])},expandedRowKeys:J,expandedRowRender:function(e){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:d.s0,children:[(0,t.jsx)("div",{className:d.Wl}),(0,t.jsx)(r.Z,{tableLayout:"fixed",className:d.cm,columns:Pe,dataSource:be,pagination:!1,showHeader:!1,footer:Ve,locale:{emptyText:Ze?(0,t.jsx)("div",{className:b()(d.$C,T.lY),children:(0,t.jsx)(F.Z,{})}):(0,t.jsx)(R.Z,{image:R.Z.PRESENTED_IMAGE_SIMPLE,description:(null===n||void 0===n?void 0:n.address)?"No loan positions":"Connect wallet"})}})]})})})}}})}),(0,t.jsxs)("div",{className:d.yr,children:[(0,t.jsxs)("div",{className:b()(d.WN,d.jn),children:[(0,t.jsx)("div",{className:b()(d.OU,d.SV),children:(0,t.jsx)(m.Z,{value:ke,onChange:Se,placeholder:"Search by name"})}),(0,t.jsx)("div",{className:b()(d.wP),children:(0,t.jsx)(Fe,{})})]}),(0,t.jsxs)("div",{className:b()(d.WN),children:[(0,t.jsx)("div",{className:d.K5,children:"Interest"}),(0,t.jsx)("div",{className:d.K5,children:"Supplied"}),(0,t.jsx)("div",{className:d.K5,children:"Available"})]}),(0,t.jsx)(r.Z,{hasRowsShadow:!0,tableLayout:"fixed",columns:Oe,dataSource:ge,pagination:!1,showHeader:!1,className:b()(d.Kz,(0,a.Z)({},d.ES,!ge.length)),expandable:{showExpandColumn:!1,onExpand:function(e,n){ae(A.yp.none),se(n.key),Q(e?[n.key]:[])},expandedRowKeys:J,expandedRowRender:function(e){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:d.s0,children:[(0,t.jsx)("div",{className:d.Wl}),(0,t.jsx)(r.Z,{className:d.cm,columns:De,dataSource:be,pagination:!1,showHeader:!1,footer:Ve,locale:{emptyText:Ze?(0,t.jsx)("div",{className:b()(d.$C,T.lY),children:(0,t.jsx)(F.Z,{})}):(0,t.jsx)(R.Z,{image:R.Z.PRESENTED_IMAGE_SIMPLE,description:(null===n||void 0===n?void 0:n.address)?"No loan positions":"Connect wallet"})}})]})})})}}})]}),!ge.length&&(X?(0,t.jsx)("div",{className:d.EG,children:(0,t.jsx)(z.Z,{icon:(0,t.jsx)("div",{className:d.Vi}),title:"You have no open positions",description:"Turn off the filter my collection and choose any collection to borrow tokens"})}):(0,t.jsx)("div",{className:d.EG,children:(0,t.jsx)(z.Z,{icon:(0,t.jsx)("div",{className:d.Vi}),title:"No collections to display",description:"Turn off all filters and clear search inputs"})}))]})})}},80182:function(){},80596:function(){}},function(e){e.O(0,[3662,5270,5586,9277,8018,4035,1934,2766,9774,2888,179],(function(){return n=60645,e(e.s=n);var n}));var n=e.O();_N_E=n}]);